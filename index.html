<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Balises m√©ta pour le r√©f√©rencement am√©lior√© -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAISON M'LISHO - Marketplace Tout-en-Un | Informatique, Maison, T√©l√©phone, Ordinateur</title>
    <meta name="description" content="MAISONM'LISHO - Votre marketplace africain tout-en-un. Produits informatique, maison, t√©l√©phone, ordinateur, divertissement, habillement. Livraison rapide, paiement s√©curis√©, prix en francs congolais.">
    <meta name="keywords" content="marketplace Congo, ecommerce RDC, produits informatique Kinshasa, maison, t√©l√©phone, ordinateur, divertissement, habillement, shopping en ligne Congo, MAISONM'LISHO, achat en ligne RDC">
    <meta name="author" content="MAISONM'LISHO Marketplace">
    <meta name="robots" content="index, follow">
    <meta name="language" content="French">
    <meta name="geo.region" content="CD">
    <meta name="geo.placename" content="Kinshasa">
    <meta name="geo.position" content="-4.441931;15.266293">
    <meta name="ICBM" content="-4.441931, 15.266293">
    
    <!-- Balises m√©ta pour les r√©seaux sociaux am√©lior√©es -->
    <meta property="og:title" content="MAISONM'LISHO - Votre marketplace congolais tout-en-un">
    <meta property="og:description" content="Marketplace africain avec produits en francs congolais. Paiement mobile Airtel Money & M-Pesa accept√©s">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://maisonmlisho.com">
    <meta property="og:image" content="https://maisonmlisho.com/images/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="fr_CD">
    <meta property="og:site_name" content="MAISONM'LISHO">
    
    <!-- Twitter Card am√©lior√©e -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MAISONM'LISHO - Marketplace Congo üá®üá©">
    <meta name="twitter:description" content="Achetez en ligne au Congo avec paiement mobile. Prix en francs congolais">
    <meta name="twitter:image" content="https://maisonmlisho.com/images/twitter-card.png">
    <meta name="twitter:site" content="@maisonmlisho">
    <meta name="twitter:creator" content="@maisonmlisho">
    
    <!-- Balises m√©ta suppl√©mentaires -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=yes">
    <meta name="msapplication-TileColor" content="#2563eb">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>" type="image/svg+xml">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://maisonmlisho.com">
    
    <style>
        /* ===== VARIABLES CSS ===== */
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #f59e0b;
            --accent: #10b981;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --danger: #ef4444;
            --success: #10b981;
            --border-radius: 8px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            
            --bg-color: #f9fafb;
            --text-color: #1e293b;
            --card-bg: white;
            --header-bg: white;
            --footer-bg: #1e293b;
            --footer-text: white;
        }

        /* Mode sombre */
        .dark-mode {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #f59e0b;
            --accent: #10b981;
            --light: #1e293b;
            --dark: #f8fafc;
            --gray: #94a3b8;
            --gray-light: #334155;
            --danger: #ef4444;
            --success: #10b981;
            
            --bg-color: #0f172a;
            --text-color: #e2e8f0;
            --card-bg: #1e293b;
            --header-bg: #1e293b;
            --footer-bg: #0f172a;
            --footer-text: #cbd5e1;
        }

        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s, color 0.3s;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            line-height: 1.3;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            cursor: pointer;
            border: none;
            font-family: inherit;
        }

        input, select, textarea {
            font-family: inherit;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hidden {
            display: none !important;
        }

        /* ===== LAYOUT COMPONENTS ===== */
        .page {
            display: none;
            flex: 1;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .content-page {
            padding: 80px 0;
        }

        .page-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .page-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .page-subtitle {
            color: var(--gray);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .content-section {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 40px;
            transition: background-color 0.3s;
        }

        /* ===== BOUTONS ===== */
        .btn-primary {
            background-color: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 12px 24px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background-color: var(--primary);
            color: white;
        }

        /* ===== FORMULAIRES ===== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* ===== HEADER & NAVIGATION ===== */
        header {
            background-color: var(--header-bg);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color 0.3s;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .logo i {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            font-size: 1rem;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        nav a:hover {
            color: var(--primary);
        }

        .login-btn {
            color: var(--primary);
            font-weight: 600;
        }

        .register-btn {
            background-color: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: var(--border-radius);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.3rem;
            color: var(--dark);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--secondary);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
        }

        .user-icon {
            font-size: 1.3rem;
            color: var(--dark);
            cursor: pointer;
            position: relative;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.3rem;
            color: var(--dark);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .theme-toggle:hover {
            transform: rotate(30deg);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
        }

        /* ===== PROMOTIONS BAR ===== */
        .promo-bar {
            background: linear-gradient(to right, var(--primary), var(--accent));
            color: white;
            padding: 10px 0;
            text-align: center;
            font-weight: 500;
            overflow: hidden;
        }

        .promo-scroll {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            animation: scrollText 20s linear infinite;
        }

        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .promo-code {
            background-color: white;
            color: var(--primary);
            padding: 3px 10px;
            border-radius: 4px;
            font-weight: 700;
            margin: 0 5px;
        }

        /* ===== HOME PAGE ===== */
        .search-section {
            background-color: var(--light);
            padding: 30px 0;
            text-align: center;
            transition: background-color 0.3s;
        }

        .search-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .search-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .search-subtitle {
            color: var(--gray);
            margin-bottom: 25px;
        }

        .search-bar {
            display: flex;
            box-shadow: var(--shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .search-bar input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .search-bar button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s;
        }

        .search-bar button:hover {
            background-color: var(--primary-dark);
        }

        .catalogue-section {
            padding: 60px 0;
        }

        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 40px;
            color: var(--dark);
            position: relative;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            border-radius: 2px;
        }

        /* ===== FILTRES ===== */
        .filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 16px;
            background-color: var(--gray-light);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            color: var(--text-color);
        }

        .category-btn.active, .category-btn:hover {
            background-color: var(--primary);
            color: white;
        }

        .sort-select {
            padding: 8px 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        /* ===== PRODUITS ===== */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .product-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }

        .product-img {
            height: 200px;
            width: 100%;
            overflow: hidden;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .product-card:hover .product-img img {
            transform: scale(1.05);
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .product-description {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .product-rating i {
            color: var(--secondary);
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .product-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid var(--gray-light);
            background: var(--card-bg);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--text-color);
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            padding: 8px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .add-to-cart {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }

        .add-to-cart:hover {
            background-color: var(--primary-dark);
        }

        .add-to-cart:disabled {
            background-color: var(--gray);
            cursor: not-allowed;
        }

        .wishlist-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
            align-self: flex-start;
        }

        .wishlist-btn.active {
            color: var(--danger);
        }

        .wishlist-btn:hover {
            color: var(--danger);
        }

        .stock-info {
            font-size: 0.8rem;
            margin-left: auto;
        }

        .stock-available {
            color: var(--success);
        }

        .stock-low {
            color: var(--secondary);
        }

        .stock-out {
            color: var(--danger);
        }

        /* ===== AUTHENTIFICATION ===== */
        .auth-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .auth-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--shadow-lg);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .auth-header p {
            color: var(--gray);
        }

        .auth-tabs {
            display: flex;
            border-bottom: 2px solid var(--gray-light);
            margin-bottom: 30px;
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .auth-tab.active {
            color: var(--primary);
        }

        .auth-tab.active:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--primary);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .auth-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .auth-btn:hover {
            background-color: var(--primary-dark);
        }

        .auth-footer {
            text-align: center;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-light);
            color: var(--gray);
        }

        .auth-footer a {
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
        }

        /* ===== SETTINGS PAGE ===== */
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .settings-tabs {
            display: flex;
            border-bottom: 2px solid var(--gray-light);
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .settings-tab {
            padding: 15px 25px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            position: relative;
        }

        .settings-tab.active {
            color: var(--primary);
        }

        .settings-tab.active:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--primary);
        }

        .settings-content {
            display: none;
        }

        .settings-content.active {
            display: block;
        }

        .settings-section {
            margin-bottom: 40px;
        }

        .settings-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--dark);
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-light);
        }

        .language-options, .currency-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .language-option, .currency-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border: 2px solid var(--gray-light);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s;
        }

        .language-option:hover, .currency-option:hover {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.05);
        }

        .language-option.active, .currency-option.active {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .language-flag {
            font-size: 1.5rem;
        }

        .language-info, .currency-info {
            flex: 1;
        }

        .language-name, .currency-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .language-code, .currency-code {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .theme-options {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .theme-option {
            flex: 1;
            text-align: center;
            padding: 20px;
            border: 2px solid var(--gray-light);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-option:hover {
            border-color: var(--primary);
        }

        .theme-option.active {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .theme-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .theme-name {
            font-weight: 600;
            color: var(--dark);
        }

        .profile-picture-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .profile-picture {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 20px;
            border: 4px solid var(--primary);
            position: relative;
            background-color: var(--light);
        }

        .profile-picture img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-picture-upload {
            position: absolute;
            bottom: 0;
            right: 0;
            background-color: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .profile-picture-upload input {
            display: none;
        }

        .password-change-form {
            max-width: 500px;
            margin: 0 auto;
        }

        /* ===== HISTORY PAGE ===== */
        .history-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .history-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .history-filter {
            padding: 10px 20px;
            background-color: var(--gray-light);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            color: var(--text-color);
        }

        .history-filter.active, .history-filter:hover {
            background-color: var(--primary);
            color: white;
        }

        .history-orders {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .history-order {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .history-order:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--gray-light);
        }

        .order-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .order-date {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .order-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .order-status.delivered {
            background-color: #d1fae5;
            color: #065f46;
        }

        .order-status.processing {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .order-status.cancelled {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .order-status.shipped {
            background-color: #fef3c7;
            color: #92400e;
        }

        .order-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        .order-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            border-radius: var(--border-radius);
            background-color: rgba(0, 0, 0, 0.02);
        }

        .order-item-img {
            width: 60px;
            height: 60px;
            border-radius: var(--border-radius);
            overflow: hidden;
            flex-shrink: 0;
        }

        .order-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .order-item-info {
            flex: 1;
        }

        .order-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .order-item-qty {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .order-item-price {
            font-weight: 600;
            color: var(--primary);
        }

        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--gray-light);
        }

        .order-total {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
        }

        .order-actions {
            display: flex;
            gap: 10px;
        }

        /* ===== FAVORITES PAGE ===== */
        .favorites-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }

        .favorite-empty {
            text-align: center;
            padding: 60px 20px;
        }

        .favorite-empty i {
            font-size: 4rem;
            color: var(--gray-light);
            margin-bottom: 20px;
        }

        .favorite-empty h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .favorite-empty p {
            color: var(--gray);
            margin-bottom: 30px;
        }

        /* ===== CART SIDEBAR ===== */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 100%;
            max-width: 400px;
            height: 100%;
            background-color: var(--card-bg);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 2000;
            transition: right 0.3s ease, background-color 0.3s;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--gray-light);
        }

        .cart-title {
            font-size: 1.5rem;
            color: var(--dark);
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .cart-item-img {
            width: 80px;
            height: 80px;
            border-radius: var(--border-radius);
            overflow: hidden;
            background-color: var(--light);
            flex-shrink: 0;
        }

        .cart-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.95rem;
            color: var(--dark);
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: auto;
        }

        .cart-item-quantity-input {
            width: 70px;
            padding: 8px;
            text-align: center;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .cart-item-quantity-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .remove-item {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 1.1rem;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--gray-light);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--dark);
        }

        .free-shipping-bar {
            background-color: var(--light);
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            text-align: center;
            color: var(--primary);
            font-weight: 500;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .checkout-btn:hover {
            background-color: var(--primary-dark);
        }

        .secure-checkout {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            color: var(--success);
            font-weight: 500;
            font-size: 0.9rem;
        }

        .secure-checkout i {
            font-size: 1.2rem;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .cart-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* ===== USER MENU ===== */
        .user-menu {
            position: absolute;
            top: 70px;
            right: 20px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            width: 300px;
            z-index: 1001;
            display: none;
            transition: background-color 0.3s;
        }

        .user-menu.active {
            display: block;
        }

        .user-menu-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-info h4 {
            margin-bottom: 5px;
            color: var(--dark);
        }

        .user-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .user-menu-links {
            padding: 10px 0;
        }

        .user-menu-links a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            text-decoration: none;
            color: var(--dark);
            transition: background-color 0.3s;
            cursor: pointer;
        }

        .user-menu-links a:hover {
            background-color: var(--light);
            color: var(--primary);
        }

        /* ===== PROFIL AM√âLIOR√â ===== */
        .profile-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 20px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            margin-bottom: 30px;
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 20px;
        }

        .profile-stat {
            text-align: center;
        }

        .profile-stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .profile-stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* ===== RECHERCHE RAPIDE ===== */
        .quick-search {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 3000;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            display: none;
            transition: all 0.3s;
        }

        .quick-search.active {
            display: block;
        }

        .quick-search-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quick-search-header h3 {
            font-size: 1.5rem;
            color: var(--dark);
        }

        .quick-search-content {
            padding: 20px;
        }

        .quick-search-results {
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .quick-search-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid var(--gray-light);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .quick-search-item:hover {
            background-color: var(--light);
        }

        .quick-search-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: var(--border-radius);
        }

        .quick-search-item-info h4 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .quick-search-item-info .price {
            color: var(--primary);
            font-weight: 600;
        }

        .search-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2999;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .search-overlay.active {
            display: block;
            opacity: 1;
        }

        /* ===== MODALES ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 4000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal-overlay.active {
            display: block;
            opacity: 1;
        }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 4001;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            display: none;
        }

        .modal.active {
            display: block;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .modal-content {
            padding: 20px;
        }

        /* ===== PAIEMENT ===== */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .payment-method {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid var(--gray-light);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .payment-method:hover {
            border-color: var(--primary);
        }

        .payment-method.active {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .payment-icon-img {
            width: 50px;
            height: 50px;
            object-fit: contain;
            margin-bottom: 10px;
        }

        .payment-name {
            font-weight: 600;
            color: var(--dark);
            font-size: 0.9rem;
        }

        .confirmation-code {
            text-align: center;
            padding: 20px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            margin: 20px 0;
        }

        .confirmation-code .code {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: 5px;
            margin: 10px 0;
        }

        /* ===== SUIVI DE COMMANDE ===== */
        .tracking-timeline {
            position: relative;
            padding: 20px 0;
            margin: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--gray-light);
        }

        .timeline-step {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-step:last-child {
            margin-bottom: 0;
        }

        .timeline-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--gray-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            z-index: 1;
            transition: all 0.3s;
        }

        .timeline-step.active .timeline-icon {
            background-color: var(--primary);
            color: white;
        }

        .timeline-step.completed .timeline-icon {
            background-color: var(--success);
            color: white;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-date {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* ===== FOOTER ===== */
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            padding: 60px 0 30px;
            margin-top: auto;
            transition: background-color 0.3s, color 0.3s;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-desc {
            color: #cbd5e1;
            margin-bottom: 20px;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icons a {
            color: white;
            font-size: 1.2rem;
            transition: color 0.3s;
            cursor: pointer;
        }

        .social-icons a:hover {
            color: var(--secondary);
        }

        .footer-heading {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s;
            cursor: pointer;
        }

        .footer-links a:hover {
            color: white;
        }

        .payment-methods-footer {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .payment-icon-footer {
            background-color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 1.5rem;
            color: var(--dark);
        }

        .privacy-guarantee {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(37, 99, 235, 0.1);
            border-radius: var(--border-radius);
        }

        .privacy-guarantee i {
            font-size: 2rem;
            color: var(--primary);
        }

        .privacy-guarantee h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .privacy-guarantee p {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* ===== NOTIFICATIONS ===== */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            max-width: 400px;
        }

        .notification.error {
            background-color: var(--danger);
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* ===== RESPONSIVE DESIGN AM√âLIOR√â ===== */
        @media (max-width: 1200px) {
            .container {
                max-width: 960px;
            }
        }

        @media (max-width: 992px) {
            .container {
                max-width: 720px;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .products-grid, .favorites-grid {
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                gap: 25px;
            }
            
            .payment-methods {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                max-width: 540px;
            }
            
            .mobile-menu-btn {
                display: block;
            }

            nav {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 80%;
                height: calc(100vh - 70px);
                background-color: var(--card-bg);
                box-shadow: var(--shadow);
                transition: left 0.3s, background-color 0.3s;
                z-index: 1001;
                padding: 20px;
                overflow-y: auto;
            }

            nav.active {
                left: 0;
            }

            nav ul {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }

            .header-actions {
                gap: 15px;
            }

            .products-grid, .favorites-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
            }

            .cart-sidebar {
                max-width: 100%;
            }
            
            .settings-tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .settings-tabs::-webkit-scrollbar {
                height: 5px;
            }
            
            .settings-tabs::-webkit-scrollbar-track {
                background: var(--gray-light);
                border-radius: 10px;
            }
            
            .settings-tabs::-webkit-scrollbar-thumb {
                background: var(--primary);
                border-radius: 10px;
            }
            
            .theme-options {
                flex-direction: column;
            }
            
            .payment-methods {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .content-section {
                padding: 30px 20px;
            }
            
            .footer-content {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 30px;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 15px;
                max-width: 100%;
            }
            
            .products-grid, .favorites-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .filters {
                flex-direction: column;
                align-items: flex-start;
            }

            .search-bar {
                flex-direction: column;
            }

            .search-bar input {
                width: 100%;
                border-radius: var(--border-radius) var(--border-radius) 0 0;
            }

            .search-bar button {
                width: 100%;
                padding: 15px;
                border-radius: 0 0 var(--border-radius) var(--border-radius);
            }

            .page-title {
                font-size: 1.8rem;
            }
            
            .language-options, .currency-options {
                grid-template-columns: 1fr;
            }
            
            .order-header, .order-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .order-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .auth-card {
                padding: 30px 20px;
            }
            
            .payment-methods {
                grid-template-columns: 1fr;
            }
            
            .modal {
                width: 95%;
            }
            
            .promo-scroll {
                animation: scrollText 15s linear infinite;
            }
            
            .profile-stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .content-page {
                padding: 40px 0;
            }
        }

        @media (max-width: 400px) {
            .logo span {
                display: none;
            }
            
            .header-actions {
                gap: 10px;
            }
            
            .cart-sidebar {
                max-width: 100%;
            }
            
            .page-title {
                font-size: 1.6rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .btn-primary, .btn-secondary {
                padding: 10px 18px;
                font-size: 0.9rem;
            }
            
            .category-filters {
                justify-content: center;
            }
            
            .category-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 360px) {
            .container {
                padding: 0 10px;
            }
            
            .page-title {
                font-size: 1.4rem;
            }
            
            .auth-card {
                padding: 20px 15px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .user-menu {
                width: 280px;
                right: 10px;
            }
        }

        /* ===== ANIMATIONS RESPONSIVES ===== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* ===== TOUCH DEVICE OPTIMIZATION ===== */
        @media (hover: none) and (pointer: coarse) {
            .product-card:hover {
                transform: none;
            }
            
            .btn-primary, .btn-secondary {
                min-height: 44px;
                min-width: 44px;
            }
            
            .category-btn, .history-filter {
                min-height: 36px;
                min-width: 60px;
            }
            
            .quantity-btn {
                min-width: 44px;
                min-height: 44px;
            }
            
            .add-to-cart {
                min-height: 44px;
            }
            
            input, select, textarea {
                font-size: 16px; /* Prevent zoom on iOS */
            }
        }

        /* ===== DARK MODE ADAPTATIONS ===== */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #0f172a;
                --text-color: #e2e8f0;
                --card-bg: #1e293b;
            }
            
            body:not(.dark-mode):not(.light-mode) {
                background-color: var(--bg-color);
                color: var(--text-color);
            }
        }
    </style>
</head>
<body>
    <!-- Promotions Bar -->
    <div class="promo-bar">
        <div class="promo-scroll">
            <i class="fas fa-bolt"></i>
            <span id="promoText">PROMO10 : -10% sur les smartphones !</span>
            <span class="promo-code">PROMO10</span>
            <span> | </span>
            <span id="promoText2">Nouveau : Laptop Gaming √† 99.90‚Ç¨ seulement</span>
            <i class="fas fa-gift"></i>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo" onclick="showPage('home')">
                <i class="fas fa-home"></i>
                <span id="logoText">MAISON M'LISHO</span>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a onclick="showPage('home')"><i class="fas fa-home"></i> <span id="navHome">Accueil</span></a></li>
                    <li><a onclick="showPage('catalogue')"><i class="fas fa-th-large"></i> <span id="navCatalogue">Catalogue</span></a></li>
                    <li><a onclick="showPage('about')"><i class="fas fa-users"></i> <span id="navAbout">√Ä Propos</span></a></li>
                    <li><a onclick="showPage('privacy')"><i class="fas fa-shield-alt"></i> <span id="navPrivacy">Confidentialit√©</span></a></li>
                    <li><a onclick="showPage('login')" class="login-btn"><i class="fas fa-sign-in-alt"></i> <span id="navLogin">Connexion</span></a></li>
                    <li><a onclick="showPage('register')" class="register-btn"><i class="fas fa-user-plus"></i> <span id="navRegister">Inscription</span></a></li>
                </ul>
            </nav>
            
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="cart-icon" id="cartIcon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
                <div class="user-icon" id="userMenuBtn">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- User Menu -->
    <div class="user-menu" id="userMenu">
        <div class="user-menu-header">
            <div class="user-avatar" id="userAvatar">
                <!-- Avatar will be loaded here -->
            </div>
            <div class="user-info">
                <h4 id="userName">Bienvenue</h4>
                <p id="userEmail">Connectez-vous pour profiter de tous les avantages</p>
            </div>
        </div>
        <div class="user-menu-links" id="userMenuLinks">
            <!-- Menu links will be loaded here -->
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="cart-title" id="cartTitle">Votre Panier</h3>
            <button class="close-cart" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be loaded here -->
        </div>
        <div class="cart-footer">
            <div class="free-shipping-bar" id="freeShippingBar">
                <i class="fas fa-shipping-fast"></i> <span id="shippingText">Plus que 5000 FC pour profiter de la livraison gratuite !</span>
            </div>
            <div class="cart-total">
                <span id="cartTotalText">Total</span>
                <span id="cartTotal">0.00 FC</span>
            </div>
            <button class="checkout-btn" onclick="showPaymentModal()">
                <i class="fas fa-lock"></i> <span id="checkoutText">Paiement S√©curis√©</span>
            </button>
            <div class="secure-checkout">
                <i class="fas fa-shield-alt"></i> <span id="secureText">Paiement 100% s√©curis√©</span>
            </div>
        </div>
    </div>

    <!-- Modal de Paiement -->
    <div class="modal-overlay" id="paymentOverlay"></div>
    <div class="modal" id="paymentModal">
        <div class="modal-header">
            <h3 class="modal-title" id="paymentModalTitle">Choisissez votre mode de paiement</h3>
            <button class="modal-close" onclick="closePaymentModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content">
            <div class="payment-methods" id="paymentMethods">
                <!-- Payment methods will be loaded here -->
            </div>
            <div id="paymentFormContainer">
                <!-- Payment form will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Modal de Confirmation Mobile -->
    <div class="modal-overlay" id="confirmationOverlay"></div>
    <div class="modal" id="confirmationModal">
        <div class="modal-header">
            <h3 class="modal-title" id="confirmationTitle">Confirmation de Paiement Mobile</h3>
            <button class="modal-close" onclick="closeConfirmationModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content">
            <div id="confirmationContent">
                <!-- Confirmation content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Modal de Suivi de Commande -->
    <div class="modal-overlay" id="trackingOverlay"></div>
    <div class="modal" id="trackingModal">
        <div class="modal-header">
            <h3 class="modal-title" id="trackingTitle">Suivi de Commande</h3>
            <button class="modal-close" onclick="closeTrackingModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content">
            <div id="trackingContent">
                <!-- Tracking content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Recherche Rapide -->
    <div class="search-overlay" id="searchOverlay"></div>
    <div class="quick-search" id="quickSearch">
        <div class="quick-search-header">
            <h3 id="quickSearchTitle">Recherche Rapide</h3>
            <button class="close-cart" onclick="closeQuickSearch()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="quick-search-content">
            <div class="search-bar" style="margin-bottom: 20px;">
                <input type="text" id="quickSearchInput" placeholder="Rechercher un produit...">
                <button id="quickSearchBtn"><i class="fas fa-search"></i></button>
            </div>
            <div class="quick-search-results" id="quickSearchResults">
                <!-- R√©sultats de recherche rapide -->
            </div>
        </div>
    </div>

    <!-- Pages -->
    <main>
        <!-- Home Page -->
        <div class="page active" id="home-page">
            <section class="search-section">
                <div class="container search-container">
                    <h1 class="search-title" id="searchTitle">MAISON M'LISHO - Votre marketplace tout-en-un</h1>
                    <p class="search-subtitle" id="searchSubtitle">D√©couvrez une large s√©lection de produits pour votre maison, votre bureau et votre style de vie</p>
                    <div class="search-bar">
                        <input type="text" id="searchInput" placeholder="Rechercher un produit...">
                        <button id="searchBtn"><i class="fas fa-search"></i> <span id="searchBtnText">Rechercher</span></button>
                    </div>
                    <div style="margin-top: 15px;">
                        <button class="btn-secondary" onclick="openQuickSearch()">
                            <i class="fas fa-bolt"></i> <span id="quickSearchBtnText">Recherche rapide</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="catalogue-section">
                <div class="container">
                    <h2 class="section-title" id="featuredTitle">Produits Populaires</h2>
                    <div class="products-grid" id="featuredProducts">
                        <!-- Featured products will be loaded here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Catalogue Page -->
        <div class="page" id="catalogue-page">
            <section class="content-page">
                <div class="container">
                    <div class="page-header">
                        <h1 class="page-title" id="catalogueTitle">Notre Catalogue</h1>
                        <p class="page-subtitle" id="catalogueSubtitle">D√©couvrez notre large s√©lection de produits</p>
                    </div>
                    
                    <div class="filters">
                        <div class="category-filters">
                            <button class="category-btn active" data-category="all"><span id="filterAll">Tous</span></button>
                            <button class="category-btn" data-category="informatique"><span id="filterInformatique">Informatique</span></button>
                            <button class="category-btn" data-category="maison"><span id="filterMaison">Maison</span></button>
                            <button class="category-btn" data-category="telephone"><span id="filterTelephone">T√©l√©phone</span></button>
                            <button class="category-btn" data-category="ordinateur"><span id="filterOrdinateur">Ordinateur</span></button>
                            <button class="category-btn" data-category="divertissement"><span id="filterDivertissement">Divertissement</span></button>
                            <button class="category-btn" data-category="habillement"><span id="filterHabillement">Habillement</span></button>
                            <button class="category-btn" data-category="scolaire"><span id="filterScolaire">Scolaire</span></button>
                            <button class="category-btn" data-category="couture"><span id="filterCouture">Couture</span></button>
                            <button class="category-btn" data-category="mecanique"><span id="filterMecanique">M√©canique</span></button>
                            <button class="category-btn" data-category="cuisine"><span id="filterCuisine">Cuisine</span></button>
                            <button class="category-btn" data-category="fruits"><span id="filterFruits">Fruits</span></button>
                        </div>
                        <select class="sort-select" id="sortSelect">
                            <option value="popular"><span id="sortPopular">Les plus populaires</span></option>
                            <option value="sales"><span id="sortSales">Plus vendus</span></option>
                            <option value="searches"><span id="sortSearches">Plus recherch√©s</span></option>
                            <option value="price-asc"><span id="sortPriceAsc">Prix croissant</span></option>
                            <option value="price-desc"><span id="sortPriceDesc">Prix d√©croissant</span></option>
                            <option value="rating"><span id="sortRating">Meilleures notes</span></option>
                            <option value="newest"><span id="sortNewest">Nouveaut√©s</span></option>
                        </select>
                    </div>
                    
                    <div class="products-grid" id="productsGrid">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings-page">
            <section class="content-page">
                <div class="container settings-container">
                    <div class="page-header">
                        <h1 class="page-title" id="settingsTitle">Param√®tres</h1>
                        <p class="page-subtitle" id="settingsSubtitle">Personnalisez votre exp√©rience sur MAISON M'LISHO</p>
                    </div>
                    
                    <div class="content-section">
                        <div class="settings-tabs">
                            <button class="settings-tab active" data-tab="profile"><i class="fas fa-user"></i> <span id="tabProfile">Profil</span></button>
                            <button class="settings-tab" data-tab="security"><i class="fas fa-shield-alt"></i> <span id="tabSecurity">S√©curit√©</span></button>
                            <button class="settings-tab" data-tab="language"><i class="fas fa-language"></i> <span id="tabLanguage">Langue</span></button>
                            <button class="settings-tab" data-tab="currency"><i class="fas fa-money-bill"></i> <span id="tabCurrency">Devise</span></button>
                            <button class="settings-tab" data-tab="appearance"><i class="fas fa-palette"></i> <span id="tabAppearance">Apparence</span></button>
                        </div>
                        
                        <!-- Profile Settings -->
                        <div class="settings-content active" id="profileContent">
                            <!-- Aper√ßu du profil -->
                            <div class="profile-preview">
                                <div class="profile-picture">
                                    <img id="profileImage" src="" alt="Photo de profil MAISONM'LISHO" onerror="this.src='https://ui-avatars.com/api/?name=User&background=2563eb&color=fff&size=150'">
                                    <label class="profile-picture-upload">
                                        <i class="fas fa-camera"></i>
                                        <input type="file" id="profileUpload" accept="image/*">
                                    </label>
                                </div>
                                <h3 id="userDisplayName">Utilisateur</h3>
                                <p id="userDisplayEmail">user@example.com</p>
                                <div class="profile-stats">
                                    <div class="profile-stat">
                                        <div class="profile-stat-number" id="ordersCount">0</div>
                                        <div class="profile-stat-label">Commandes</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="profile-stat-number" id="favoritesCount">0</div>
                                        <div class="profile-stat-label">Favoris</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="profile-stat-number" id="memberSince">2026</div>
                                        <div class="profile-stat-label">Membre depuis</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="settings-section">
                                <h3><span id="personalInfoTitle">Informations personnelles</span></h3>
                                <form id="profileForm">
                                    <div class="form-group">
                                        <label for="profileName" id="nameLabel">Nom complet</label>
                                        <input type="text" id="profileName" class="form-control" placeholder="Votre nom complet">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="profileEmail" id="emailLabel">Email</label>
                                        <input type="email" id="profileEmail" class="form-control" placeholder="votre@email.com">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="profilePhone" id="phoneLabel">T√©l√©phone</label>
                                        <input type="tel" id="profilePhone" class="form-control" placeholder="Votre num√©ro de t√©l√©phone">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="profileAddress" id="addressLabel">Adresse</label>
                                        <textarea id="profileAddress" class="form-control" rows="3" placeholder="Votre adresse de livraison"></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="profileBio" id="bioLabel">Biographie</label>
                                        <textarea id="profileBio" class="form-control" rows="3" placeholder="Parlez-nous un peu de vous..."></textarea>
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-save"></i> <span id="saveProfileText">Enregistrer les modifications</span>
                                    </button>
                                </form>
                            </div>
                        </div>
                        
                        <!-- Security Settings -->
                        <div class="settings-content" id="securityContent">
                            <div class="settings-section">
                                <h3><span id="changePasswordTitle">Changer le mot de passe</span></h3>
                                <form id="passwordForm" class="password-change-form">
                                    <div class="form-group">
                                        <label for="currentPassword" id="currentPasswordLabel">Mot de passe actuel</label>
                                        <input type="password" id="currentPassword" class="form-control" placeholder="Votre mot de passe actuel">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="newPassword" id="newPasswordLabel">Nouveau mot de passe</label>
                                        <input type="password" id="newPassword" class="form-control" placeholder="Votre nouveau mot de passe">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="confirmPassword" id="confirmPasswordLabel">Confirmer le nouveau mot de passe</label>
                                        <input type="password" id="confirmPassword" class="form-control" placeholder="Confirmez votre nouveau mot de passe">
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-key"></i> <span id="changePasswordBtnText">Changer le mot de passe</span>
                                    </button>
                                </form>
                            </div>
                            
                            <div class="settings-section">
                                <h3><span id="forgotPasswordTitle">Mot de passe oubli√©</span></h3>
                                <form id="forgotPasswordForm" class="password-change-form">
                                    <div class="form-group">
                                        <label for="forgotEmail" id="forgotEmailLabel">Email</label>
                                        <input type="email" id="forgotEmail" class="form-control" placeholder="votre@email.com">
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-envelope"></i> <span id="resetPasswordText">R√©initialiser le mot de passe</span>
                                    </button>
                                    <p style="color: var(--gray); font-size: 0.9rem; margin-top: 10px;" id="resetInstructions">
                                        Un lien de r√©initialisation vous sera envoy√© par email.
                                    </p>
                                </form>
                            </div>
                        </div>
                        
                        <!-- Language Settings -->
                        <div class="settings-content" id="languageContent">
                            <div class="settings-section">
                                <h3><span id="selectLanguageTitle">S√©lectionnez votre langue</span></h3>
                                <div class="language-options">
                                    <div class="language-option active" data-lang="fr">
                                        <div class="language-flag">üá´üá∑</div>
                                        <div class="language-info">
                                            <div class="language-name" id="langFrench">Fran√ßais</div>
                                            <div class="language-code">Fran√ßais</div>
                                        </div>
                                        <i class="fas fa-check" style="color: var(--primary);"></i>
                                    </div>
                                    
                                    <div class="language-option" data-lang="en">
                                        <div class="language-flag">üá¨üáß</div>
                                        <div class="language-info">
                                            <div class="language-name" id="langEnglish">English</div>
                                            <div class="language-code">English</div>
                                        </div>
                                    </div>
                                    
                                    <div class="language-option" data-lang="sw">
                                        <div class="language-flag">üáπüáø</div>
                                        <div class="language-info">
                                            <div class="language-name" id="langSwahili">Kiswahili</div>
                                            <div class="language-code">Swahili</div>
                                        </div>
                                    </div>
                                    
                                    <div class="language-option" data-lang="ln">
                                        <div class="language-flag">üá®üá©</div>
                                        <div class="language-info">
                                            <div class="language-name" id="langLingala">Ling√°la</div>
                                            <div class="language-code">Lingala</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Currency Settings -->
                        <div class="settings-content" id="currencyContent">
                            <div class="settings-section">
                                <h3><span id="selectCurrencyTitle">S√©lectionnez votre devise</span></h3>
                                <div class="currency-options">
                                    <div class="currency-option active" data-currency="CDF">
                                        <div class="language-flag">FC</div>
                                        <div class="currency-info">
                                            <div class="currency-name" id="currencyCdf">Franc Congolais</div>
                                            <div class="currency-code">CDF - FC</div>
                                        </div>
                                        <i class="fas fa-check" style="color: var(--primary);"></i>
                                    </div>
                                    
                                    <div class="currency-option" data-currency="EUR">
                                        <div class="language-flag">‚Ç¨</div>
                                        <div class="currency-info">
                                            <div class="currency-name" id="currencyEuro">Euro</div>
                                            <div class="currency-code">EUR - ‚Ç¨</div>
                                        </div>
                                    </div>
                                    
                                    <div class="currency-option" data-currency="USD">
                                        <div class="language-flag">$</div>
                                        <div class="currency-info">
                                            <div class="currency-name" id="currencyDollar">Dollar US</div>
                                            <div class="currency-code">USD - $</div>
                                        </div>
                                    </div>
                                    
                                    <div class="currency-option" data-currency="XAF">
                                        <div class="language-flag">FCFA</div>
                                        <div class="currency-info">
                                            <div class="currency-name" id="currencyXaf">Franc CFA</div>
                                            <div class="currency-code">XAF - FCFA</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Appearance Settings -->
                        <div class="settings-content" id="appearanceContent">
                            <div class="settings-section">
                                <h3><span id="selectThemeTitle">S√©lectionnez votre th√®me</span></h3>
                                <div class="theme-options">
                                    <div class="theme-option active" data-theme="light">
                                        <div class="theme-icon">
                                            <i class="fas fa-sun"></i>
                                        </div>
                                        <div class="theme-name" id="themeLight">Mode clair</div>
                                    </div>
                                    
                                    <div class="theme-option" data-theme="dark">
                                        <div class="theme-icon">
                                            <i class="fas fa-moon"></i>
                                        </div>
                                        <div class="theme-name" id="themeDark">Mode sombre</div>
                                    </div>
                                    
                                    <div class="theme-option" data-theme="auto">
                                        <div class="theme-icon">
                                            <i class="fas fa-adjust"></i>
                                        </div>
                                        <div class="theme-name" id="themeAuto">Auto</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- History Page -->
        <div class="page" id="history-page">
            <section class="content-page">
                <div class="container history-container">
                    <div class="page-header">
                        <h1 class="page-title" id="historyTitle">Historique des commandes</h1>
                        <p class="page-subtitle" id="historySubtitle">Retrouvez toutes vos commandes pass√©es</p>
                    </div>
                    
                    <div class="content-section">
                        <div class="history-filters">
                            <button class="history-filter active" data-filter="all"><span id="filterAllOrders">Toutes</span></button>
                            <button class="history-filter" data-filter="delivered"><span id="filterDelivered">Livr√©es</span></button>
                            <button class="history-filter" data-filter="processing"><span id="filterProcessing">En cours</span></button>
                            <button class="history-filter" data-filter="cancelled"><span id="filterCancelled">Annul√©es</span></button>
                        </div>
                        
                        <div class="history-orders" id="historyOrders">
                            <!-- Orders will be loaded here -->
                        </div>
                        
                        <div id="noOrders" class="favorite-empty" style="display: none;">
                            <i class="fas fa-shopping-bag"></i>
                            <h3 id="noOrdersTitle">Aucune commande</h3>
                            <p id="noOrdersText">Vous n'avez pas encore pass√© de commande.</p>
                            <button class="btn-primary" onclick="showPage('catalogue')">
                                <i class="fas fa-shopping-cart"></i> <span id="startShoppingText">Commencer vos achats</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Favorites Page -->
        <div class="page" id="favorites-page">
            <section class="content-page">
                <div class="container favorites-container">
                    <div class="page-header">
                        <h1 class="page-title" id="favoritesTitle">Mes Favoris</h1>
                        <p class="page-subtitle" id="favoritesSubtitle">Retrouvez tous vos produits pr√©f√©r√©s</p>
                    </div>
                    
                    <div class="content-section">
                        <div class="favorites-grid" id="favoritesGrid">
                            <!-- Favorite products will be loaded here -->
                        </div>
                        
                        <div id="noFavorites" class="favorite-empty">
                            <i class="fas fa-heart"></i>
                            <h3 id="noFavoritesTitle">Aucun favori</h3>
                            <p id="noFavoritesText">Vous n'avez pas encore ajout√© de produits √† vos favoris.</p>
                            <button class="btn-primary" onclick="showPage('catalogue')">
                                <i class="fas fa-shopping-cart"></i> <span id="exploreProductsText">Explorer les produits</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page -->
        <div class="page" id="about-page">
            <section class="content-page">
                <div class="container">
                    <div class="page-header">
                        <h1 class="page-title" id="aboutTitle">Bienvenue chez MAISON M'LISHO</h1>
                        <p class="page-subtitle" id="aboutSubtitle">Votre marketplace tout-en-un pour tous vos besoins quotidiens</p>
                    </div>
                    
                    <div class="content-section">
                        <h2 id="ourStoryTitle">Notre Histoire</h2>
                        <p id="ourStoryText1">MAISON M'LISHO est n√© de l'id√©e de cr√©er une plateforme unique o√π vous pouvez trouver tout ce dont vous avez besoin pour votre maison, votre bureau et votre style de vie.</p>
                        <p id="ourStoryText2">Notre mission est de simplifier vos achats en rassemblant une large s√©lection de produits de qualit√© dans diff√©rentes cat√©gories : informatique, maison, t√©l√©phonie, ordinateurs, divertissement, habillement, scolaire, couture, m√©canique, cuisine et fruits.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Privacy Page -->
        <div class="page" id="privacy-page">
            <section class="content-page">
                <div class="container">
                    <div class="page-header">
                        <h1 class="page-title" id="privacyTitle">Vos donn√©es sont entre de bonnes mains</h1>
                        <p class="page-subtitle" id="privacySubtitle">Chez MAISON M'LISHO, nous prot√©geons vos donn√©es personnelles</p>
                    </div>
                    
                    <div class="content-section">
                        <h2 id="privacyProtectionTitle">Comment nous prot√©geons vos donn√©es</h2>
                        <p id="privacyIntroText">Voici comment nous prenons soin de votre vie priv√©e :</p>
                        
                        <ul id="privacyList">
                            <li><strong id="privacyDataTitle">Quelles donn√©es collectons-nous ?</strong> <span id="privacyDataText">Uniquement le strict n√©cessaire pour vous livrer : votre nom, votre adresse, et votre email pour vous envoyer le suivi de commande.</span></li>
                            <li><strong id="privacyPaymentTitle">Et le paiement ?</strong> <span id="privacyPaymentText">Nous n'avons jamais acc√®s √† vos coordonn√©es bancaires. Tout est g√©r√© par nos partenaires s√©curis√©s (Stripe/PayPal) qui utilisent un cryptage de haut niveau.</span></li>
                            <li><strong id="privacySpamTitle">Pas de spams inutiles :</strong> <span id="privacySpamText">On ne vous enverra des promos que si vous avez coch√© la petite case 'OK'.</span></li>
                            <li><strong id="privacyRightsTitle">Vos droits :</strong> <span id="privacyRightsText">Un simple mail √† notre support et nous supprimons toutes vos donn√©es de notre base. C'est votre droit le plus strict (RGPD).</span></li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <!-- Login Page -->
        <div class="page" id="login-page">
            <section class="content-page">
                <div class="auth-container">
                    <div class="auth-card">
                        <div class="auth-header">
                            <h2 id="loginTitle">Connexion √† votre compte</h2>
                            <p id="loginSubtitle">Acc√©dez √† votre espace personnel</p>
                        </div>
                        
                        <div class="auth-tabs">
                            <button class="auth-tab active" onclick="switchAuthTab('login')" id="loginTab">Connexion</button>
                            <button class="auth-tab" onclick="switchAuthTab('register')" id="registerTab">Inscription</button>
                        </div>
                        
                        <form id="loginForm" class="auth-form active">
                            <div class="form-group">
                                <label for="loginEmail" id="loginEmailLabel">Email</label>
                                <input type="email" id="loginEmail" class="form-control" placeholder="votre@email.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="loginPassword" id="loginPasswordLabel">Mot de passe</label>
                                <input type="password" id="loginPassword" class="form-control" placeholder="Votre mot de passe" required>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <div>
                                    <input type="checkbox" id="rememberMe">
                                    <label for="rememberMe" id="rememberMeLabel">Se souvenir de moi</label>
                                </div>
                                <a href="#" onclick="showPage('settings'); switchSettingsTab('security');" style="color: var(--primary); font-size: 0.9rem;" id="forgotPasswordLink">Mot de passe oubli√© ?</a>
                            </div>
                            
                            <button type="submit" class="auth-btn" id="loginBtn">Se connecter</button>
                            
                            <div class="auth-footer">
                                <p id="noAccountText">Pas encore de compte ? <a onclick="switchAuthTab('register')" id="registerLink">S'inscrire</a></p>
                            </div>
                        </form>
                        
                        <form id="registerForm" class="auth-form">
                            <div class="form-group">
                                <label for="registerName" id="registerNameLabel">Nom complet</label>
                                <input type="text" id="registerName" class="form-control" placeholder="Jean Dupont" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerEmail" id="registerEmailLabel">Email</label>
                                <input type="email" id="registerEmail" class="form-control" placeholder="votre@email.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerPassword" id="registerPasswordLabel">Mot de passe</label>
                                <input type="password" id="registerPassword" class="form-control" placeholder="Cr√©ez un mot de passe" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerConfirmPassword" id="registerConfirmPasswordLabel">Confirmer le mot de passe</label>
                                <input type="password" id="registerConfirmPassword" class="form-control" placeholder="Confirmez votre mot de passe" required>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <input type="checkbox" id="acceptTerms" required>
                                <label for="acceptTerms" id="acceptTermsLabel">J'accepte les <a onclick="showPage('privacy')">conditions d'utilisation</a> et la <a onclick="showPage('privacy')">politique de confidentialit√©</a></label>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <input type="checkbox" id="newsletter">
                                <label for="newsletter" id="newsletterLabel">Je souhaite recevoir les promotions et nouveaut√©s par email</label>
                            </div>
                            
                            <button type="submit" class="auth-btn" id="registerBtn">Cr√©er mon compte</button>
                            
                            <div class="auth-footer">
                                <p id="haveAccountText">D√©j√† un compte ? <a onclick="switchAuthTab('login')" id="loginLink">Se connecter</a></p>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>

        <!-- Register Page -->
        <div class="page" id="register-page">
            <section class="content-page">
                <div class="auth-container">
                    <div class="auth-card">
                        <div class="auth-header">
                            <h2 id="registerTitle">Cr√©er un compte</h2>
                            <p id="registerSubtitle">Rejoignez notre communaut√©</p>
                        </div>
                        
                        <div class="auth-tabs">
                            <button class="auth-tab" onclick="switchAuthTab('login', true)" id="loginTab2">Connexion</button>
                            <button class="auth-tab active" onclick="switchAuthTab('register', true)" id="registerTab2">Inscription</button>
                        </div>
                        
                        <form id="registerForm2" class="auth-form active">
                            <div class="form-group">
                                <label for="registerName2" id="registerNameLabel2">Nom complet</label>
                                <input type="text" id="registerName2" class="form-control" placeholder="Jean Dupont" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerEmail2" id="registerEmailLabel2">Email</label>
                                <input type="email" id="registerEmail2" class="form-control" placeholder="votre@email.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerPassword2" id="registerPasswordLabel2">Mot de passe</label>
                                <input type="password" id="registerPassword2" class="form-control" placeholder="Cr√©ez un mot de passe" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="registerConfirmPassword2" id="registerConfirmPasswordLabel2">Confirmer le mot de passe</label>
                                <input type="password" id="registerConfirmPassword2" class="form-control" placeholder="Confirmez votre mot de passe" required>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <input type="checkbox" id="acceptTerms2" required>
                                <label for="acceptTerms2" id="acceptTermsLabel2">J'accepte les <a onclick="showPage('privacy')">conditions d'utilisation</a> et la <a onclick="showPage('privacy')">politique de confidentialit√©</a></label>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <input type="checkbox" id="newsletter2">
                                <label for="newsletter2" id="newsletterLabel2">Je souhaite recevoir les promotions et nouveaut√©s par email</label>
                            </div>
                            
                            <button type="submit" class="auth-btn" id="registerBtn2">Cr√©er mon compte</button>
                            
                            <div class="auth-footer">
                                <p id="haveAccountText2">D√©j√† un compte ? <a onclick="showPage('login')" id="loginLink2">Se connecter</a></p>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="footer-logo">
                        <i class="fas fa-home"></i>
                        <span id="footerLogoText">MAISON M'LISHO</span>
                    </div>
                    <p class="footer-desc" id="footerDesc">Votre marketplace tout-en-un pour tous vos besoins quotidiens. Une large s√©lection de produits de qualit√© dans 11 cat√©gories diff√©rentes.</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div>
                    <h3 class="footer-heading" id="footerCategoriesTitle">Cat√©gories</h3>
                    <ul class="footer-links">
                        <li><a onclick="showPage('catalogue')" id="footerInformatique">Informatique</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerMaison">Maison</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerTelephone">T√©l√©phone</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerOrdinateur">Ordinateur</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerDivertissement">Divertissement</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerHabillement">Habillement</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerScolaire">Scolaire</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerCouture">Couture</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="footer-heading" id="footerCategoriesTitle2">Cat√©gories (suite)</h3>
                    <ul class="footer-links">
                        <li><a onclick="showPage('catalogue')" id="footerMecanique">M√©canique</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerCuisine">Cuisine</a></li>
                        <li><a onclick="showPage('catalogue')" id="footerFruits">Fruits</a></li>
                        <li><a onclick="showPage('privacy')" id="footerDelivery">Livraison & Retours</a></li>
                        <li><a onclick="showPage('privacy')" id="footerLegal">Mentions l√©gales</a></li>
                        <li><a onclick="showPage('privacy')" id="footerCookies">Politique de cookies</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="footer-heading" id="footerInfoTitle">Informations</h3>
                    <ul class="footer-links">
                        <li><a href="mailto:contact@maisonmlisho.fr" id="footerContact">Contact</a></li>
                        <li><a href="#faq" id="footerFAQ">FAQ</a></li>
                        <li><a onclick="showPage('about')" id="footerAbout">√Ä propos</a></li>
                        <li><a onclick="showPage('privacy')" id="footerPrivacy">Confidentialit√©</a></li>
                        <li><a href="#careers" id="footerCareers">Carri√®res</a></li>
                        <li><a href="#blog" id="footerBlog">Blog</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="footer-heading" id="footerPaymentTitle">Paiement s√©curis√©</h3>
                    <p class="footer-desc" id="footerPaymentDesc">Achetez en toute s√©curit√© avec nos partenaires de confiance.</p>
                    <div class="payment-methods-footer">
                        <div class="payment-icon-footer">
                            <i class="fab fa-cc-visa"></i>
                        </div>
                        <div class="payment-icon-footer">
                            <i class="fab fa-cc-mastercard"></i>
                        </div>
                        <div class="payment-icon-footer">
                            <i class="fab fa-cc-paypal"></i>
                        </div>
                        <div class="payment-icon-footer">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="payment-icon-footer">
                            <i class="fab fa-cc-apple-pay"></i>
                        </div>
                    </div>
                    <div class="privacy-guarantee">
                        <i class="fas fa-medal"></i>
                        <div>
                            <h3 id="footerGuaranteeTitle">Satisfait ou rembours√©</h3>
                            <p id="footerGuaranteeText">30 jours pour changer d'avis</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p id="copyrightText">&copy; 2026 MAISON M'LISHO. Tous droits r√©serv√©s. | Votre marketplace tout-en-un avec 11 cat√©gories de produits</p>
            </div>
        </div>
    </footer>

    <!-- Notification Container -->
    <div id="notificationContainer"></div>

    <script>
        // ===== DONN√âES DE L'APPLICATION =====
        const products = [
            // INFORMATIQUE
            {
                id: 1,
                name: "Smartphone Android 128GB",
                description: "Smartphone Android avec √©cran 6.5\", 128GB de stockage, triple appareil photo.",
                price: 29.90,
                category: "telephone",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Nouveau",
                stock: 25,
                sales: 156,
                searches: 320
            },
            {
                id: 2,
                name: "Laptop Gaming 15.6\"",
                description: "Laptop gaming avec processeur i7, 16GB RAM, RTX 3060, √©cran 144Hz.",
                price: 12.90,
                category: "ordinateur",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1603302576837-37561b2e2302?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Best-seller",
                stock: 12,
                sales: 89,
                searches: 210
            },
            {
                id: 3,
                name: "Canap√© d'angle moderne",
                description: "Canap√© d'angle en tissu velours, 3 places, couleur gris anthracite.",
                price: 89,
                category: "maison",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Promo",
                stock: 8,
                sales: 45,
                searches: 120
            },
            {
                id: 4,
                name: "Tablette 10\" 64GB",
                description: "Tablette avec √©cran Full HD, 64GB de stockage, parfaite pour le divertissement.",
                price: 24,
                category: "informatique",
                rating: 4.6,
                image: "https://th.bing.com/th/id/OIP.hbwNijy6Lhsc2YgUsPHzKQHaHa?w=164&h=180&c=7&r=0&o=7&pid=1.7&rm=3",
                badge: "Essentiel",
                stock: 30,
                sales: 210,
                searches: 340
            },
            {
                id: 5,
                name: "Console de jeu PS5",
                description: "Console PlayStation 5 avec manette DualSense et jeu inclus.",
                price: 49,
                category: "divertissement",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Populaire",
                stock: 6,
                sales: 78,
                searches: 190
            },
            {
                id: 6,
                name: "Veste en cuir homme",
                description: "Veste en cuir v√©ritable, coupe moderne, taille S √† XXL.",
                price: 19,
                category: "habillement",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1551028719-00167b16eac5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: null,
                stock: 18,
                sales: 65,
                searches: 110
            },
            
            // INFORMATIQUE (suite)
            {
                id: 7,
                name: "Imprimante Multifonction WiFi",
                description: "Imprimante laser 4-en-1 avec WiFi, impression, scan, copie, fax.",
                price: 14,
                category: "informatique",
                rating: 4.5,
                image: "https://th.bing.com/th/id/OIP.DkqsIezQG2poPGyzPZPvsgHaGk?w=221&h=196&c=7&r=0&o=7&pid=1.7&rm=3",
                badge: "√âconomique",
                stock: 15,
                sales: 78,
                searches: 145
            },
            {
                id: 8,
                name: "Souris Gaming RGB",
                description: "Souris gaming avec capteur 16000 DPI, RGB personnalisable, 6 boutons.",
                price: 30,
                category: "informatique",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1527814050087-3793815479db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Gaming",
                stock: 40,
                sales: 120,
                searches: 200
            },
            {
                id: 9,
                name: "Clavier M√©canique",
                description: "Clavier m√©canique avec switches bleus, r√©tro√©clairage RGB, anti-ghosting.",
                price: 10,
                category: "informatique",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pro",
                stock: 25,
                sales: 95,
                searches: 180
            },
            {
                id: 10,
                name: "Webcam HD 1080p",
                description: "Webcam avec micro int√©gr√©, qualit√© Full HD, pour visioconf√©rences.",
                price: 20,
                category: "informatique",
                rating: 4.4,
                image: "https://images.unsplash.com/photo-1589256469067-ea99122bbdc4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "T√©l√©travail",
                stock: 35,
                sales: 150,
                searches: 220
            },

            // MAISON (suite)
            {
                id: 11,
                name: "Lit R√™ve 160x200",
                description: "Lit en bois massif avec t√™te de lit rembourr√©e, matelas inclus.",
                price: 69,
                category: "maison",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Best-seller",
                stock: 7,
                sales: 32,
                searches: 85
            },
            {
                id: 12,
                name: "Table √† manger extensible",
                description: "Table en ch√™ne massif, 6 √† 10 places, extensible avec rallonges.",
                price: 89,
                category: "maison",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1554295405-abb8fd54f153?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Premium",
                stock: 5,
                sales: 18,
                searches: 45
            },
            {
                id: 13,
                name: "Armoire 3 portes",
                description: "Armoire de rangement avec 3 portes, 2 √©tag√®res, miroir int√©gr√©.",
                price: 49,
                category: "maison",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pratique",
                stock: 10,
                sales: 25,
                searches: 60
            },
            {
                id: 14,
                name: "Lampe de sol LED",
                description: "Lampe de sol design avec lumi√®re LED dimmable, 3 modes de couleur.",
                price: 12,
                category: "maison",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Design",
                stock: 20,
                sales: 40,
                searches: 90
            },

            // TELEPHONE (suite)
            {
                id: 15,
                name: "iPhone 14 256GB",
                description: "iPhone 14 avec √©cran 6.1\", double cam√©ra, 256GB, 5G.",
                price: 99,
                category: "telephone",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1678286772301-0dc906d2b4a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Top",
                stock: 8,
                sales: 45,
                searches: 150
            },
            {
                id: 16,
                name: "Smartphone 5G 128GB",
                description: "Smartphone 5G avec √©cran AMOLED 120Hz, triple cam√©ra, charge rapide.",
                price: 44,
                category: "telephone",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1598327105666-5b89351aff97?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "5G",
                stock: 22,
                sales: 85,
                searches: 180
            },
            {
                id: 17,
                name: "√âcouteurs Sans Fil",
                description: "√âcouteurs Bluetooth avec r√©duction de bruit active, 30h autonomie.",
                price: 12,
                category: "telephone",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1589003077984-894e133dabab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Audio Pro",
                stock: 30,
                sales: 120,
                searches: 210
            },
            {
                id: 18,
                name: "Power Bank 20000mAh",
                description: "Batterie externe avec charge rapide 30W, double port USB-C.",
                price: 40,
                category: "telephone",
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1594736797933-d0001c3d036d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Essentiel",
                stock: 50,
                sales: 200,
                searches: 300
            },

            // ORDINATEUR (suite)
            {
                id: 19,
                name: "PC Bureau Gaming",
                description: "PC gaming avec RTX 4070, i7-13700K, 32GB RAM, 1TB SSD.",
                price: 18,
                category: "ordinateur",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1593640408182-31c70c8268f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Ultimate",
                stock: 4,
                sales: 12,
                searches: 50
            },
            {
                id: 20,
                name: "MacBook Air M2",
                description: "MacBook Air avec puce M2, 13.6\", 8GB RAM, 256GB SSD.",
                price: 11,
                category: "ordinateur",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Apple",
                stock: 10,
                sales: 35,
                searches: 100
            },
            {
                id: 21,
                name: "√âcran Gaming 27\"",
                description: "√âcran 27\" 144Hz, QHD, 1ms, HDR, technologie FreeSync.",
                price: 34,
                category: "ordinateur",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Gaming",
                stock: 15,
                sales: 40,
                searches: 120
            },
            {
                id: 22,
                name: "Disque SSD 1TB",
                description: "SSD NVMe PCIe 4.0, vitesse 7000MB/s, pour gaming et professionnel.",
                price: 40,
                category: "ordinateur",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1591485423007-765bde4139ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Performance",
                stock: 40,
                sales: 150,
                searches: 250
            },

            // DIVERTISSEMENT (suite)
            {
                id: 23,
                name: "Casque VR Oculus",
                description: "Casque de r√©alit√© virtuelle avec manettes, jeux inclus.",
                price: 30,
                category: "divertissement",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1593305841991-05c297ba4575?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Immersion",
                stock: 9,
                sales: 28,
                searches: 75
            },
            {
                id: 24,
                name: "T√©l√©vision 55\" 4K",
                description: "TV 4K UHD avec HDR, Smart TV, streaming int√©gr√©.",
                price: 49,
                category: "divertissement",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Cin√©ma",
                stock: 12,
                sales: 35,
                searches: 95
            },
            {
                id: 25,
                name: "Enceinte Bluetooth",
                description: "Enceinte portable avec son 360¬∞, 24h autonomie, √©tanche.",
                price: 30,
                category: "divertissement",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1546435770-a3e426bf472b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Portable",
                stock: 30,
                sales: 110,
                searches: 180
            },
            {
                id: 26,
                name: "Manette Xbox Wireless",
                description: "Manette sans fil pour Xbox/PC, vibrations haptiques.",
                price: 50,
                category: "divertissement",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1605901309584-818e25960a8f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Gaming",
                stock: 25,
                sales: 85,
                searches: 140
            },

            // HABILLEMENT (suite)
            {
                id: 27,
                name: "Robe Soir√©e √âl√©gante",
                description: "Robe longue en satin, coupe ajust√©e, couleur rouge passion.",
                price: 14,
                category: "habillement",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "√âl√©gant",
                stock: 15,
                sales: 42,
                searches: 90
            },
            {
                id: 28,
                name: "Costume Homme Affaires",
                description: "Costume 3 pi√®ces en laine, couleur anthracite, taille 38 √† 52.",
                price: 29,
                category: "habillement",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1594938374183-9a5b54c5c92c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Professionnel",
                stock: 10,
                sales: 28,
                searches: 65
            },
            {
                id: 29,
                name: "Baskets de Sport",
                description: "Baskets running avec amorti air, confort maximal, toutes tailles.",
                price: 10,
                category: "habillement",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Sport",
                stock: 35,
                sales: 95,
                searches: 160
            },
            {
                id: 30,
                name: "Sac √† Main Cuir",
                description: "Sac √† main en cuir v√©ritable, compartiments multiples, cha√Æne dor√©e.",
                price: 10,
                category: "habillement",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1584917865442-de89df76afd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Luxe",
                stock: 18,
                sales: 55,
                searches: 110
            },

            // OUTILS SCOLAIRES
            {
                id: 31,
                name: "Cartable Scolaire",
                description: "Cartable ergonomique avec compartiments multiples, taille r√©glable.",
                price: 40,
                category: "scolaire",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1587654780298-8c6d6b2c8b1a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Rentr√©e",
                stock: 40,
                sales: 120,
                searches: 220
            },
            {
                id: 32,
                name: "Trousse Compl√®te",
                description: "Trousse avec stylos, crayons, gomme, r√®gle, compas, √©querre.",
                price: 19,
                category: "scolaire",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Complet",
                stock: 60,
                sales: 200,
                searches: 300
            },
            {
                id: 33,
                name: "Calculatrice Scientifique",
                description: "Calculatrice graphique avec √©cran couleur, 100+ fonctions.",
                price: 39,
                category: "scolaire",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1587145820266-a5951ee6f620?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Scientifique",
                stock: 25,
                sales: 85,
                searches: 150
            },
            {
                id: 34,
                name: "Cahiers 200 pages",
                description: "Pack de 10 cahiers 200 pages, couverture rigide, lignes Seyes.",
                price: 12,
                category: "scolaire",
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pack",
                stock: 50,
                sales: 180,
                searches: 250
            },
            {
                id: 35,
                name: "Stylos 4 Couleurs",
                description: "Pack de 12 stylos 4 couleurs (bleu, rouge, vert, noir), fluide.",
                price: 9,
                category: "scolaire",
                rating: 4.6,
                image: "data:image/webp;base64,UklGRpQLAABXRUJQVlA4IIgLAADQQQCdASrEAMUAPp1InUolpKKhqLN74LATiWVuS9ZXM3W//z9KYWxx4DfGh65ODYIefdT7nRf+csTpkqDj0pf5D0yvT76H+dK3UD1i/5R02986videdgf4r/a+zbu1/qOO0f6JucQf2K52vHC+d/9b1I/7p/1faa/xvMt9T+wh0fP3G9ho9YGWOSyiRFNO1LeQwg+3eFalvRiwJBQt4dtlxPK7h8KDxcsWDZTWFpB9eJlO0IlCIc5lAjz2ESzWufjE7eWEsw/fB1di3lx2iVKPXHvYqrITLU/huX8toI3DfmFB40aD+oaT40V7sSRg80uMGproL+a5rz5tXQpSQ11etE11RZmaC0Wv1wY9zzqg0VOKEQoIC/fWB3U2NfBwMTzL3g2PkLbkF3bEf8Su4ougkAC6BZZkYz8IKEoBxKXZe5FCjXA/foG51a8oI+A9x3h6AVMJSs4Xq5OmDrU8XE7Fo0Sdr5NrPZGRL78FxewNg6CMTqWsrPAnPaUnI/mJIEik8DL5t9YfZlxQ0e+h458bFyc1NR8u3oVKDDFeJbJ1HTEEzsLDagorcH/YHXtNlD8LSY8m4lMpG4nL/7nZq11UgnboAoUOppxpHr6w/LUgPHigFhaP4TCDEIsrVyrP1jSFQvdMTFVwsMMdyhC723vsz22Ys3iYSmQllw8VhSXMmrW2ZPcxEKBSWtYLcFtZdEgJiWEXBBDAAP76tuG5I6loWheHI5chi8dNGVjuA9lIanQaQKNDcMvoU2xV5Mj4p0tJt6Kp1gU7GeLe7oUNZeX//tKNekCarCOoqQWP3VxfPlcl8mqeJBrQ2+ChK8QFS6rJtMQWUdNj+WQzb43J9UJR6DZIDnhp3GXyIEELbDg8pLOp341bD9vr5enou8y6ocEaTdsdufCM0ENKNl1rLGpcXl55RaTiNTS60GusjLUQy88GtDKtFOYY9ROsfzHxVprCJw02pOGzBazoTMfYgZsizvqZBB7RJNcksD78RA5gWG42NzIkF8mwOY/3Y6GRNk6MKIukzY/RjUtV65XwJLxdM73CV6+tkK2LooPnpU0dMfL8YrbYiDe9RZibvdJ/27RRK33DgzhYLCI28ko/PbyJvwUFE+182P4xEaog0CiSvL8FvwUaTdCLOcqKBriL9PyQuGqv/fjXson2krUO/vU8+/z+ztFawSL7yex4W7112umG998FjqqwJvYBVxZ/9EJImHwJsuMccFH4Kge5hhc1Co0zHI9134wqnGTHorsvnUAOj8x2Zapp7wTKy9hE5CsjOzSLJPTWZrg1TmGmVLjmPUc/8pO7958fZN62kAdw2Xj+JePljrBurG1VeypNu4lnljKpqicS4PS6z0Ax0I3frFQW1dRSJ2wCrrbRmhPPMns3TpeymjAgmSdDvtKAtHN8zrX0o2Otwmnw5Gb7E3XypwnOGY7iHqBLQwTIc0tSSZCmlnlhfaSXZyWFHmuJ6OoAEZr5bkdHemZG6OOnyTf1kIfVw51O5wpAul5Fy6FDZdSqBypbNstOg0OBKQQ4j4SeEky/3MvOB9Od1/DdfRJK81lZHVv4IR5Dg71ItH8ai3VF+sChZb5CauJfIkYNnwN3wx3t4LfE7H6TS7e/WzBeatEHGzNJ8RjgVD7SD4RRhzn16cBVR52MtsrohdQi7dvYZ0CpnagkCNkNI8DqTQz1VprGhuSSjyj3kakE1d6mV1TDmqgXtxKc+b+EgBAe+Cq3UQbkkdvJle2pT6b3geJGIVGLixNZzQVl/xUBHymSF370hA1cUKNvmiDnEad71BAkgya9iRUXWkrkCg+AwHTj7ial6hCH/8eRrDFD0sIV5aI6MmKRU1y77SbcPdh/i3QHY6rXaBV5n9VxnFEQBNirEODyIebySfEbFrMgt3lIlZMo9VtozKsI9vNvcPXf3+4Hqcb5IuYPNo/R8Ft0my7UmH2les3/N9eNnjIGKn5vuU5EfP47tzi6GylmO4RE/L3z9O9G6Xrr2OviXZf8nKamvPNL3mv21BHNS4D2Lv8gtxtPqbHEqlRF4lxD/yZyFsHL/K2v0j2wRCEL26mTtFr+lcpMwN1y6Uz6kNY/N/L1ofoTbW4lVInVz82zpge6NAP7vELmO6KNcTs7RKe81/4DseWOKnAgCX40db3YRpdDhWPmbrqcTNE3w68M34H8f0h1QZUXKulBAfvs193wJi0y2D5fqkJOEr/gr/x/7HC9O3Qt3mLeT6zAvZ5IMzGA7aby0j88SXVOpeUuXX3HX7cbrNJl+kG0K4JS9OyQMrLCGPJPe73LiZ1E0ekLWlF/RYvj/8o9jfcni/qorDS3ZfCyrH9TLjiKbeE2W9Osjkc/hw49g+OqHao6k+cYzz/W3VRw2Xx8f2Qdgc88m/J+YVUwkTUd8t0u/Hc6Zfg1/Vq0/fT9R3WHXK7GxL6r+eB/qhoJqsj/wqaEDsa4jFldlvtWfH/5JvG7Yvlpa92LYZtsrePQzRerq7b5RxJx7IBLASHO747okAQCeaWS60Nt/kPKC+URufVan9LK2PPnusme9vpNw9j9oYJOj35Nc/X16zync02Nv3Iv9Ib/po/+tlJSOT/p1X9MXOsDEc2COEla1uzTAv8dI7RIq9ze1ASqpZ692jvEcbeslVNPjjJWiBZXZZl/XIdXnvA3usyF0Qs22sLCggMEO13zckz3lcShTP0HyN+D/VSRugLP6jhWSySpPliUE9tKZZNIf2gjOklmAwx60pS/IrPq0lJsZf0DvkYF+/x1zYge4cq4+yRzCtaHcdEotfVQY41Dji4osBTuB5gPmqnE5fDDkuwFI09AgUHHX/037qrS4ZvR5qORIa4qQbNtO2C9k8J2ToTBPfyls9gERh6fN82Rm6B/SngXwVis4vYHAkAX3xcl1sCR5pL0RvSzzAZy/s9dKDzG7kVwWo8MeCGJj1Ypr7vZ0itjlNELxnMdGxS/Fetm18iWvHbNl2p+1amos/9GN848ir6IK1Hbb3GwOkQKRoe3t9psaEJiG/iY+7Xe+GbuW2GwvledxmVsTLrOxuTYoKiaQo8a5pU9rmqpS4DBj6OCGomC1ih/Ru+QRxXy2ON3SdIJXycaqWJOtgx/AZM656e93rj4+0F6rBUAVEIZRc/mYDCOaCRCVK0e3jlHnne4LOMz6jtctUwlrc7eGNa+svwJTnmfmADH+1XY3aZJKW4G8km5TaEFmr7zVGN9AvLQj3tZIjGJoRLPlt4hJ00lLRR/Z7oK78sxfBXx1m6aAUllMJpbHPdCaPCoehljJMOr0hgSU0Mo/n0lOREI5NLdcMvbj2ZpNmuFXvqW9F/FSs81jn9dnKaH51/AOAj4zWCUpNsRsahzIp7H2C/gUBLX0VWcFf5F/v+HZphweFsetWhKC/GuLaqGL+BDLBSj0ACjUG+GC0R7gBE9OgES/2D1dc/BRd7+CJyV2LeAwx7DaLxyegB+B0UoNXhod9cuDPMQwz1SQEMHH0sJzrPcRr4SVCxN2Shss+zOoMowzs4h1sPjzOIJZEvG6FmwhE/OnICe8NQKVMFpXojrtm+OCnipARW5fwhHGg13b6n6dqDjBwR4bnZ6W2wW7gOt91EJy16NjOiknX/7fb06y6lXmXGVGobMcN5aE9nE9vLLjIcuFJEnOuznWhyIHPyfM0Qz3TXF9/cL58krNGrmMVacsfeEtW/8mhzmLSSeHdrORjptuTWNRBYNX3d6DRGvA+oCBY0FbEKaL9Coikf0Xx2q/itHJ3mEF/6zOm+5zy9RTsJvCQzUdk8QAeeUACh6YwI0ivSb05+/BSv3U4YrpiEVnxasLjPF70dm3SBFk3+OXF6m1y6zqbSvVQEPTSuImJBIOhxfphMhM56ULx7GuojSLQi7Q4ltVRPK7ZAe6J+2pXWMhS63moD6VUrSer/PNK+ztjyimgTyXeKMiAAABJgAAAA=",
                badge: "√âconomique",
                stock: 80,
                sales: 250,
                searches: 350
            },

            // COUPE ET COUTURE
            {
                id: 36,
                name: "Machine √† Coudre",
                description: "Machine √† coudre √©lectronique avec 32 points, p√©dale, accessoires.",
                price: 19,
                category: "couture",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1580618672591-eb180b1a973f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pro",
                stock: 12,
                sales: 38,
                searches: 85
            },
            {
                id: 37,
                name: "Ciseaux de Couture",
                description: "Ciseaux professionnels en acier inoxydable, longueur 20cm.",
                price: 2,
                category: "couture",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1583485088034-697b5bc54ccd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pr√©cis",
                stock: 35,
                sales: 95,
                searches: 160
            },
            {
                id: 38,
                name: "Kit Fil et Aiguilles",
                description: "Kit complet avec 50 bobines de fil, 100 aiguilles, d√©s √† coudre.",
                price: 2,
                category: "couture",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Complet",
                stock: 28,
                sales: 75,
                searches: 130
            },
            {
                id: 39,
                name: "M√®tre Ruban",
                description: "M√®tre ruban 150cm, flexible, double face (cm/pouces).",
                price: 7,
                category: "couture",
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1583485086720-24e5d5d9c7b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Essentiel",
                stock: 45,
                sales: 140,
                searches: 210
            },
            {
                id: 40,
                name: "Tissu Coton 2m",
                description: "Tissu 100% coton, largeur 140cm, qualit√© premium.",
                price: 10,
                category: "couture",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1562157873-818bc0726f68?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Naturel",
                stock: 30,
                sales: 85,
                searches: 145
            },

            // M√âCANIQUE
            {
                id: 41,
                name: "Bo√Æte √† Outils Compl√®te",
                description: "Bo√Æte avec 150 pi√®ces : cl√©s, tournevis, pinces, marteau.",
                price: 80,
                category: "mecanique",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Complet",
                stock: 18,
                sales: 55,
                searches: 110
            },
            {
                id: 42,
                name: "Perceuse Visseuse",
                description: "Perceuse sans fil 18V, 2 batteries, chargeur, coffret.",
                price: 11,
                category: "mecanique",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1572981779307-38b8cabb2407?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Puissant",
                stock: 15,
                sales: 42,
                searches: 95
            },
            {
                id: 43,
                name: "Cric Hydraulique 2T",
                description: "Cric hydraulique 2 tonnes, pour voitures et motos.",
                price: 21,
                category: "mecanique",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1565689221354-d77d5d4c211f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Garage",
                stock: 12,
                sales: 35,
                searches: 80
            },
            {
                id: 44,
                name: "Compresseur d'Air",
                description: "Compresseur 50L, 2.5CV, pour peinture, gonflage, nettoyage.",
                price: 12,
                category: "mecanique",
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pro",
                stock: 8,
                sales: 22,
                searches: 60
            },
            {
                id: 45,
                name: "Casque de Soudure",
                description: "Casque auto-obscurcissant, protection UV/IR, r√©glable.",
                price: 18,
                category: "mecanique",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1585149174644-dc50e6c8b8c8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Protection",
                stock: 20,
                sales: 65,
                searches: 120
            },

            // CUISINE
            {
                id: 46,
                name: "Set de Couteaux",
                description: "Set 6 couteaux + bloc, acier inoxydable, tranchant durable.",
                price: 10,
                category: "cuisine",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Professionnel",
                stock: 25,
                sales: 75,
                searches: 140
            },
            {
                id: 47,
                name: "Robot Multifonction",
                description: "Robot p√©trin/hachoir/mixeur, bol 4.3L, accessoires inclus.",
                price: 20,
                category: "cuisine",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Premium",
                stock: 10,
                sales: 32,
                searches: 85
            },
            {
                id: 48,
                name: "Casserole Inox 5 pi√®ces",
                description: "Set 5 casseroles inox 18/10, poign√©es bak√©lite, compatible induction.",
                price: 10,
                category: "cuisine",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Qualit√©",
                stock: 18,
                sales: 55,
                searches: 110
            },
            {
                id: 49,
                name: "Mixeur Plongeant",
                description: "Mixeur 800W, 5 vitesses, accessoires mini-hachoir et fouet.",
                price: 50,
                category: "cuisine",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1579888071069-c107a6f79d82?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Pratique",
                stock: 30,
                sales: 95,
                searches: 160
            },
            {
                id: 50,
                name: "Batterie de Cuisine",
                description: "Set 10 pi√®ces anti-adh√©sif, poign√©es ergonomiques, couvercles verre.",
                price: 10,
                category: "cuisine",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Complet",
                stock: 22,
                sales: 68,
                searches: 130
            },

            // FRUITS
            {
                id: 51,
                name: "Bananes Cavendish",
                description: "Bananes fra√Æches et m√ªres, origine C√¥te d'Ivoire, lot de 1kg.",
                price: 2,
                category: "fruits",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Frais",
                stock: 100,
                sales: 300,
                searches: 450
            },
            {
                id: 52,
                name: "Oranges Valencia",
                description: "Oranges juteuses et sucr√©es, riches en vitamine C, lot de 2kg.",
                price: 1.50,
                category: "fruits",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1547514701-42782101795e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Vitamine C",
                stock: 80,
                sales: 250,
                searches: 380
            },
            {
                id: 53,
                name: "Pommes Gala",
                description: "Pommes croquantes et sucr√©es, origine France, lot de 1.5kg.",
                price: 2,
                category: "fruits",
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Croquantes",
                stock: 75,
                sales: 220,
                searches: 350
            },
            {
                id: 54,
                name: "Mangues Kent",
                description: "Mangues juteuses et parfum√©es, origine Mali, pi√®ce environ 400g.",
                price: 1.50,
                category: "fruits",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1553279768-865429fa0078?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Exotique",
                stock: 60,
                sales: 180,
                searches: 280
            },
            {
                id: 55,
                name: "Ananas Victoria",
                description: "Ananas sucr√© et peu acide, origine La R√©union, pi√®ce environ 1.5kg.",
                price: 2,
                category: "fruits",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1550258987-190a2d41a8ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Tropical",
                stock: 40,
                sales: 120,
                searches: 200
            },
            {
                id: 56,
                name: "Raisin Blanc",
                description: "Raisin sans p√©pins, grappe d'environ 500g, doux et juteux.",
                price: 1.50,
                category: "fruits",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Sans p√©pins",
                stock: 55,
                sales: 160,
                searches: 240
            },
            {
                id: 57,
                name: "Avocats Hass",
                description: "Avocats cr√©meux, origine P√©rou, pi√®ce environ 200g.",
                price: 2,
                category: "fruits",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Cr√©meux",
                stock: 70,
                sales: 200,
                searches: 320
            },
            {
                id: 58,
                name: "Melon Charentais",
                description: "Melon tr√®s parfum√©, origine Espagne, pi√®ce environ 1kg.",
                price: 2,
                category: "fruits",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1560880558-9e4d3d56d18a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Parfum√©",
                stock: 45,
                sales: 140,
                searches: 220
            },
            {
                id: 59,
                name: "Papayes Solo",
                description: "Papayes douces et parfum√©es, origine Br√©sil, pi√®ce environ 500g.",
                price: 1.50,
                category: "fruits",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1610832958506-aa56368176cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Exotique",
                stock: 35,
                sales: 110,
                searches: 180
            },
            {
                id: 60,
                name: "Past√®ques Sugar Baby",
                description: "Past√®ques sucr√©es et juteuses, origine Maroc, pi√®ce environ 3kg.",
                price: 1.90,
                category: "fruits",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1563119662-3d3b32e6d5c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                badge: "Rafra√Æchissant",
                stock: 30,
                sales: 95,
                searches: 160
            }
        ];

        // Base de donn√©es des utilisateurs (simul√©e)
        const registeredUsers = [
            { email: "admin@maisonmlisho.com", password: "Admin123!", name: "Administrateur" },
            { email: "test@test.com", password: "Test123!", name: "Test Utilisateur" }
        ];

        const paymentMethods = [
            { 
                id: 'card', 
                name: 'Carte Bancaire', 
                icon: 'fa-credit-card',
                image: 'https://cdn-icons-png.flaticon.com/512/179/179457.png'
            },
            { 
                id: 'paypal', 
                name: 'PayPal', 
                icon: 'fa-paypal',
                image: 'https://cdn-icons-png.flaticon.com/512/174/174861.png'
            },
            { 
                id: 'bank', 
                name: 'Virement Bancaire', 
                icon: 'fa-university',
                image: 'https://cdn-icons-png.flaticon.com/512/1828/1828611.png'
            },
            { 
                id: 'airtel', 
                name: 'Airtel Money', 
                icon: 'fa-mobile-alt',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Airtel_Money.svg/1200px-Airtel_Money.svg.png',
                phoneNumber: '+243992165640'
            },
            { 
                id: 'vodacom', 
                name: 'Vodacom M-Pesa', 
                icon: 'fa-mobile',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Vodacom_Logo.svg/1200px-Vodacom_Logo.svg.png',
                phoneNumber: '+243815988527'
            },
            { 
                id: 'orange', 
                name: 'Orange Money', 
                icon: 'fa-money-bill-wave',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Orange_Money.svg/1200px-Orange_Money.svg.png'
            }
        ];

        // ===== VARIABLES GLOBALES =====
        let cart = [];
        let currentUser = null;
        let favorites = [];
        let userOrders = [];
        let userSettings = {
            language: 'fr',
            currency: 'CDF', // Franc congolais par d√©faut
            theme: 'light',
            profileImage: '',
            name: '',
            email: '',
            phone: '',
            address: '',
            bio: '',
            memberSince: new Date().getFullYear()
        };

        let currentPaymentMethod = null;
        let mobileConfirmationCode = null;
        let userSessionToken = null;

        // ===== TRADUCTIONS MULTILINGUES =====
        const translations = {
            fr: {
                // Header & Navigation
                logoText: "MAISON M'LISHO",
                navHome: "Accueil",
                navCatalogue: "Catalogue",
                navAbout: "√Ä Propos",
                navPrivacy: "Confidentialit√©",
                navLogin: "Connexion",
                navRegister: "Inscription",
                
                // Promotions
                promoText: "PROMO10 : -10% sur les smartphones !",
                promoText2: "Nouveau : Laptop Gaming √† 99.90‚Ç¨ seulement",
                
                // Home Page
                searchTitle: "MAISON M'LISHO - Votre marketplace tout-en-un",
                searchSubtitle: "D√©couvrez une large s√©lection de produits pour votre maison, votre bureau et votre style de vie",
                searchBtnText: "Rechercher",
                featuredTitle: "Produits Populaires",
                addToCartText: "Ajouter au panier",
                stockText: "Stock",
                quickSearchBtnText: "Recherche rapide",
                
                // Catalogue Page
                catalogueTitle: "Notre Catalogue",
                catalogueSubtitle: "D√©couvrez notre large s√©lection de produits",
                filterAll: "Tous",
                filterInformatique: "Informatique",
                filterMaison: "Maison",
                filterTelephone: "T√©l√©phone",
                filterOrdinateur: "Ordinateur",
                filterDivertissement: "Divertissement",
                filterHabillement: "Habillement",
                filterScolaire: "Scolaire",
                filterCouture: "Couture",
                filterMecanique: "M√©canique",
                filterCuisine: "Cuisine",
                filterFruits: "Fruits",
                sortPopular: "Les plus populaires",
                sortSales: "Plus vendus",
                sortSearches: "Plus recherch√©s",
                sortPriceAsc: "Prix croissant",
                sortPriceDesc: "Prix d√©croissant",
                sortRating: "Meilleures notes",
                sortNewest: "Nouveaut√©s",
                noProductsText: "Aucun produit",
                noProductsDesc: "Aucun produit trouv√©",
                
                // Recherche Rapide
                quickSearchTitle: "Recherche Rapide",
                
                // Cart
                cartTitle: "Votre Panier",
                shippingText: "Plus que 5000 FC pour profiter de la livraison gratuite !",
                cartTotalText: "Total",
                checkoutText: "Paiement S√©curis√©",
                secureText: "Paiement 100% s√©curis√©",
                emptyCartTitle: "Panier vide",
                emptyCartText: "Votre panier est vide",
                removeItemText: "Supprimer",
                
                // User Menu
                menuProfile: "Mon Profil",
                menuOrders: "Mes Commandes",
                menuFavorites: "Mes Favoris",
                menuSettings: "Param√®tres",
                menuLogout: "D√©connexion",
                
                // Settings Page
                settingsTitle: "Param√®tres",
                settingsSubtitle: "Personnalisez votre exp√©rience sur MAISON M'LISHO",
                tabProfile: "Profil",
                tabSecurity: "S√©curit√©",
                tabLanguage: "Langue",
                tabCurrency: "Devise",
                tabAppearance: "Apparence",
                changePhotoText: "Changer la photo",
                personalInfoTitle: "Informations personnelles",
                nameLabel: "Nom complet",
                emailLabel: "Email",
                phoneLabel: "T√©l√©phone",
                addressLabel: "Adresse",
                bioLabel: "Biographie",
                saveProfileText: "Enregistrer les modifications",
                changePasswordTitle: "Changer le mot de passe",
                currentPasswordLabel: "Mot de passe actuel",
                newPasswordLabel: "Nouveau mot de passe",
                confirmPasswordLabel: "Confirmer le nouveau mot de passe",
                changePasswordBtnText: "Changer le mot de passe",
                forgotPasswordTitle: "Mot de passe oubli√©",
                forgotEmailLabel: "Email",
                resetPasswordText: "R√©initialiser le mot de passe",
                resetInstructions: "Un lien de r√©initialisation vous sera envoy√© par email.",
                selectLanguageTitle: "S√©lectionnez votre langue",
                langFrench: "Fran√ßais",
                langEnglish: "English",
                langSwahili: "Kiswahili",
                langLingala: "Ling√°la",
                selectCurrencyTitle: "S√©lectionnez votre devise",
                currencyEuro: "Euro",
                currencyDollar: "Dollar US",
                currencyCdf: "Franc Congolais",
                currencyXaf: "Franc CFA",
                selectThemeTitle: "S√©lectionnez votre th√®me",
                themeLight: "Mode clair",
                themeDark: "Mode sombre",
                themeAuto: "Auto",
                
                // History Page
                historyTitle: "Historique des commandes",
                historySubtitle: "Retrouvez toutes vos commandes pass√©es",
                filterAllOrders: "Toutes",
                filterDelivered: "Livr√©es",
                filterProcessing: "En cours",
                filterCancelled: "Annul√©es",
                noOrdersTitle: "Aucune commande",
                noOrdersText: "Vous n'avez pas encore pass√© de commande.",
                startShoppingText: "Commencer vos achats",
                orderDetailsBtn: "D√©tails",
                reorderBtn: "Commander √† nouveau",
                orderDelivered: "Livr√©e",
                orderProcessing: "En cours",
                orderCancelled: "Annul√©e",
                orderTotalText: "Total commande",
                shippingText2: "Livraison",
                trackOrderBtn: "Suivre ma commande",
                
                // Favorites Page
                favoritesTitle: "Mes Favoris",
                favoritesSubtitle: "Retrouvez tous vos produits pr√©f√©r√©s",
                noFavoritesTitle: "Aucun favori",
                noFavoritesText: "Vous n'avez pas encore ajout√© de produits √† vos favoris.",
                exploreProductsText: "Explorer les produits",
                
                // About Page
                aboutTitle: "Bienvenue chez MAISON M'LISHO",
                aboutSubtitle: "Votre marketplace tout-en-un pour tous vos besoins quotidiens",
                ourStoryTitle: "Notre Histoire",
                ourStoryText1: "MAISON M'LISHO est n√© de l'id√©e de cr√©er une plateforme unique o√π vous pouvez trouver tout ce dont vous avez besoin pour votre maison, votre bureau et votre style de vie.",
                ourStoryText2: "Notre mission est de simplifier vos achats en rassemblant une large s√©lection de produits de qualit√© dans diff√©rentes cat√©gories : informatique, maison, t√©l√©phonie, ordinateurs, divertissement, habillement, scolaire, couture, m√©canique, cuisine et fruits.",
                
                // Privacy Page
                privacyTitle: "Vos donn√©es sont entre de bonnes mains",
                privacySubtitle: "Chez MAISON M'LISHO, nous prot√©geons vos donn√©es personnelles",
                privacyProtectionTitle: "Comment nous prot√©geons vos donn√©es",
                privacyIntroText: "Voici comment nous prenons soin de votre vie priv√©e :",
                privacyDataTitle: "Quelles donn√©es collectons-nous ?",
                privacyDataText: "Uniquement le strict n√©cessaire pour vous livrer : votre nom, votre adresse, et votre email pour vous envoyer le suivi de commande.",
                privacyPaymentTitle: "Et le paiement ?",
                privacyPaymentText: "Nous n'avons jamais acc√®s √† vos coordonn√©es bancaires. Tout est g√©r√© par nos partenaires s√©curis√©s (Stripe/PayPal) qui utilisent un cryptage de haut niveau.",
                privacySpamTitle: "Pas de spams inutiles :",
                privacySpamText: "On ne vous enverra des promos que si vous avez coch√© la petite case 'OK'.",
                privacyRightsTitle: "Vos droits :",
                privacyRightsText: "Un simple mail √† notre support et nous supprimons toutes vos donn√©es de notre base. C'est votre droit le plus strict (RGPD).",
                
                // Login Page
                loginTitle: "Connexion √† votre compte",
                loginSubtitle: "Acc√©dez √† votre espace personnel",
                loginTab: "Connexion",
                registerTab: "Inscription",
                loginEmailLabel: "Email",
                loginPasswordLabel: "Mot de passe",
                rememberMeLabel: "Se souvenir de moi",
                forgotPasswordLink: "Mot de passe oubli√© ?",
                loginBtn: "Se connecter",
                noAccountText: "Pas encore de compte ?",
                registerLink: "S'inscrire",
                registerNameLabel: "Nom complet",
                registerEmailLabel: "Email",
                registerPasswordLabel: "Mot de passe",
                registerConfirmPasswordLabel: "Confirmer le mot de passe",
                acceptTermsLabel: "J'accepte les conditions d'utilisation et la politique de confidentialit√©",
                newsletterLabel: "Je souhaite recevoir les promotions et nouveaut√©s par email",
                registerBtn: "Cr√©er mon compte",
                haveAccountText: "D√©j√† un compte ?",
                loginLink: "Se connecter",
                
                // Register Page
                registerTitle: "Cr√©er un compte",
                registerSubtitle: "Rejoignez notre communaut√©",
                loginTab2: "Connexion",
                registerTab2: "Inscription",
                registerNameLabel2: "Nom complet",
                registerEmailLabel2: "Email",
                registerPasswordLabel2: "Mot de passe",
                registerConfirmPasswordLabel2: "Confirmer le mot de passe",
                acceptTermsLabel2: "J'accepte les conditions d'utilisation et la politique de confidentialit√©",
                newsletterLabel2: "Je souhaite recevoir les promotions et nouveaut√©s par email",
                registerBtn2: "Cr√©er mon compte",
                haveAccountText2: "D√©j√† un compte ?",
                loginLink2: "Se connecter",
                
                // Paiement
                paymentModalTitle: "Choisissez votre mode de paiement",
                cardNumberLabel: "Num√©ro de carte",
                cardExpiryLabel: "Date d'expiration",
                cardCVVLabel: "CVV",
                cardNameLabel: "Nom sur la carte",
                payWithCardBtn: "Payer par carte",
                bankAccountLabel: "Num√©ro de compte bancaire",
                bankNameLabel: "Nom de la banque",
                payWithBankBtn: "Effectuer le virement",
                mobileNumberLabel: "Num√©ro de mobile",
                mobileOperatorLabel: "Op√©rateur mobile",
                sendCodeBtn: "Envoyer le code de confirmation",
                confirmationCodeLabel: "Code de confirmation",
                confirmPaymentBtn: "Confirmer le paiement",
                confirmationSent: "Code de confirmation envoy√© au",
                confirmationTitle: "Confirmation de Paiement Mobile",
                payWithPaypalBtn: "Payer avec PayPal",
                emailLabelPayment: "Email PayPal",
                airtelMoneyNote: "L'argent sera envoy√© au +243992165640",
                mpesaNote: "L'argent sera envoy√© au +243815988527",
                
                // Suivi
                trackingTitle: "Suivi de Commande",
                trackingNumber: "Num√©ro de suivi",
                currentStatus: "Statut actuel",
                orderPlaced: "Commande pass√©e",
                orderConfirmed: "Commande confirm√©e",
                orderShipped: "Exp√©di√©e",
                orderDeliveredTracking: "Livr√©e",
                estimatedDelivery: "Livraison estim√©e",
                
                // Footer
                footerLogoText: "MAISON M'LISHO",
                footerDesc: "Votre marketplace tout-en-un pour tous vos besoins quotidiens. Une large s√©lection de produits de qualit√© dans 11 cat√©gories diff√©rentes.",
                footerCategoriesTitle: "Cat√©gories",
                footerCategoriesTitle2: "Cat√©gories (suite)",
                footerInformatique: "Informatique",
                footerMaison: "Maison",
                footerTelephone: "T√©l√©phone",
                footerOrdinateur: "Ordinateur",
                footerDivertissement: "Divertissement",
                footerHabillement: "Habillement",
                footerScolaire: "Scolaire",
                footerCouture: "Couture",
                footerMecanique: "M√©canique",
                footerCuisine: "Cuisine",
                footerFruits: "Fruits",
                footerInfoTitle: "Informations",
                footerDelivery: "Livraison & Retours",
                footerLegal: "Mentions l√©gales",
                footerCookies: "Politique de cookies",
                footerContact: "Contact",
                footerFAQ: "FAQ",
                footerAbout: "√Ä propos",
                footerPrivacy: "Confidentialit√©",
                footerCareers: "Carri√®res",
                footerBlog: "Blog",
                footerPaymentTitle: "Paiement s√©curis√©",
                footerPaymentDesc: "Achetez en toute s√©curit√© avec nos partenaires de confiance.",
                footerGuaranteeTitle: "Satisfait ou rembours√©",
                footerGuaranteeText: "30 jours pour changer d'avis",
                copyrightText: "¬© 2026 MAISON M'LISHO. Tous droits r√©serv√©s. | Votre marketplace tout-en-un avec 11 cat√©gories de produits"
            },
            en: {
                logoText: "MAISON M'LISHO",
                navHome: "Home",
                navCatalogue: "Catalog",
                navAbout: "About",
                navPrivacy: "Privacy",
                navLogin: "Login",
                navRegister: "Register",
                searchTitle: "MAISON M'LISHO - Your All-in-One Marketplace",
                searchSubtitle: "Discover a wide selection of products for your home, office and lifestyle",
                searchBtnText: "Search",
                featuredTitle: "Popular Products",
                addToCartText: "Add to Cart",
                catalogueTitle: "Our Catalog",
                catalogueSubtitle: "Discover our wide selection of products",
                settingsTitle: "Settings",
                settingsSubtitle: "Customize your MAISON M'LISHO experience",
                tabProfile: "Profile",
                tabSecurity: "Security",
                tabLanguage: "Language",
                tabCurrency: "Currency",
                tabAppearance: "Appearance",
                historyTitle: "Order History",
                historySubtitle: "View all your past orders",
                favoritesTitle: "My Favorites",
                favoritesSubtitle: "Find all your favorite products",
                aboutTitle: "Welcome to MAISON M'LISHO",
                aboutSubtitle: "Your all-in-one marketplace for all your daily needs",
                privacyTitle: "Your data is in good hands",
                privacySubtitle: "At MAISONM'LISHO, we protect your personal data",
                loginTitle: "Login to your account",
                loginSubtitle: "Access your personal space",
                registerTitle: "Create an account",
                registerSubtitle: "Join our community",
                currencyCdf: "Congolese Franc",
                currencyEuro: "Euro",
                currencyDollar: "US Dollar",
                currencyXaf: "CFA Franc"
            },
            sw: {
                logoText: "MAISON M'LISHO",
                navHome: "Nyumbani",
                navCatalogue: "Katalogi",
                navAbout: "Kuhusu",
                navPrivacy: "Faragha",
                navLogin: "Ingia",
                navRegister: "Jisajili",
                searchTitle: "MAISON M'LISHO - Soko Lako la Vyote",
                searchSubtitle: "Gundua mkusanyiko mpana wa bidhaa za nyumbani, ofisi na maisha yako",
                searchBtnText: "Tafuta",
                featuredTitle: "Bidhaa Maarufu",
                addToCartText: "Ongeza kwenye Cart",
                catalogueTitle: "Katalogi Yetu",
                catalogueSubtitle: "Gundua mkusanyiko wetu mpana wa bidhaa",
                settingsTitle: "Mipangilio",
                settingsSubtitle: "Boresha uzoefu wako wa MAISON M'LISHO",
                tabProfile: "Wasifu",
                tabSecurity: "Usalama",
                tabLanguage: "Lugha",
                tabCurrency: "Sarafu",
                tabAppearance: "Mwonekano",
                historyTitle: "Historia ya Maagizo",
                historySubtitle: "Tazama maagizo yako yote ya zamani",
                favoritesTitle: "Vipendwa Vyangu",
                favoritesSubtitle: "Pata bidhaa zako zote unazozipenda",
                aboutTitle: "Karibu MAISON M'LISHO",
                aboutSubtitle: "Soko lako la vyote kwa mahitaji yako ya kila siku",
                privacyTitle: "Data yako iko mikononi mwazuri",
                privacySubtitle: "Kwenye MAISON M'LISHO, tunalinda data yako ya kibinafsi",
                loginTitle: "Ingia kwenye akaunti yako",
                loginSubtitle: "Pata ufikiaji wa nafasi yako ya kibinafsi",
                registerTitle: "Unda akaunti",
                registerSubtitle: "Jiunge na jamii yetu",
                currencyCdf: "Faranga ya Kongo",
                currencyEuro: "Euro",
                currencyDollar: "Dola ya Marekani",
                currencyXaf: "Faranga ya CFA"
            },
            ln: {
                logoText: "MAISON M'LISHO",
                navHome: "Ndako",
                navCatalogue: "Katalogi",
                navAbout: "Mpona",
                navPrivacy: "Boye",
                navLogin: "Kokota",
                navRegister: "Saini",
                searchTitle: "MAISON M'LISHO - Magazin na Yo ya Nyonso",
                searchSubtitle: "Mwana biloko ebele ya ndako, ofisi mpe bomoi na yo",
                searchBtnText: "Boluka",
                featuredTitle: "Biloko Oyo Eleki Komonana",
                addToCartText: "Kobakisa na Panier",
                catalogueTitle: "Katalogi na Bis√≥",
                catalogueSubtitle: "Mwana biloko ebele na bis√≥",
                settingsTitle: "Bapon√°",
                settingsSubtitle: "Kobongisa experience na yo ya MAISON M'LISHO",
                tabProfile: "Profil",
                tabSecurity: "S√©curit√©",
                tabLanguage: "Lokota",
                tabCurrency: "Mbongo",
                tabAppearance: "Kom√≥nana",
                historyTitle: "Makanisi ya Bikomisi",
                historySubtitle: "Tala bikomisi na yo nyonso",
                favoritesTitle: "Biloko Na Ng√°√≠ Oyo Nalingi",
                favoritesSubtitle: "Mwana biloko na yo nyonso oyo olingi",
                aboutTitle: "Boyei na MAISON M'LISHO",
                aboutSubtitle: "Magazin na yo ya nyonso mpo na beseni na yo ya mokolo na mokolo",
                privacyTitle: "Donn√©e na yo ezali na maboko ya malamu",
                privacySubtitle: "Na MAISON M'LISHO, tozali kobatela donn√©es na yo ya moto",
                loginTitle: "Kokota na compte na yo",
                loginSubtitle: "Kokota na espace na yo ya moto",
                registerTitle: "Kokela compte",
                registerSubtitle: "Zala na lisanga na bis√≥",
                currencyCdf: "Franc ya Kong√≥",
                currencyEuro: "Euro",
                currencyDollar: "Dollar ya Amer√≠ka",
                currencyXaf: "Franc ya CFA"
            }
        };

        // ===== FONCTIONS DE S√âCURIT√â ET NOTIFICATION =====
        function generateSessionToken() {
            return 'token_' + Math.random().toString(36).substr(2) + '_' + Date.now();
        }

        function validatePassword(password) {
            // Au moins 8 caract√®res, une majuscule, une minuscule, un chiffre
            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;
            return regex.test(password);
        }

        function sendEmailNotification(subject, message) {
            // Fonction pour envoyer des notifications par email
            const emailData = {
                to: 'mlishomsambyathierry@gmail.com',
                subject: subject,
                message: message,
                timestamp: new Date().toISOString()
            };
            
            // Simuler l'envoi d'email (dans un vrai projet, utiliser un service d'email)
            console.log('üìß Email Notification:', emailData);
            
            // Sauvegarder dans localStorage pour r√©f√©rence
            const notifications = JSON.parse(localStorage.getItem('emailNotifications') || '[]');
            notifications.push(emailData);
            localStorage.setItem('emailNotifications', JSON.stringify(notifications));
        }

        function sendSMSNotification(phoneNumber, message) {
            // Fonction pour envoyer des notifications SMS (simul√©e)
            console.log(`üì± SMS to ${phoneNumber}: ${message}`);
            
            // Dans un vrai projet, int√©grer avec une API SMS
            return true;
        }

        // ===== FONCTIONS UTILITAIRES =====
        function showNotification(message, type = 'success') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                <span>${message}</span>
            `;
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        function formatPrice(price) {
            const currencySymbols = {
                'CDF': 'FC',
                'EUR': '‚Ç¨',
                'USD': '$',
                'XAF': 'FCFA'
            };
            
            const symbol = currencySymbols[userSettings.currency] || 'FC';
            const convertedPrice = convertCurrency(price, 'EUR', userSettings.currency);
            
            // Format pour le franc congolais (sans d√©cimales)
            if (userSettings.currency === 'CDF') {
                return `${Math.round(convertedPrice)}${symbol}`;
            }
            
            return `${convertedPrice.toFixed(2)}${symbol}`;
        }

        function convertCurrency(amount, from, to) {
            const rates = {
                'EUR_CDF': 2700,
                'EUR_USD': 1.10,
                'EUR_XAF': 655,
                'USD_EUR': 0.91,
                'USD_CDF': 2450,
                'USD_XAF': 600,
                'CDF_EUR': 0.00037,
                'CDF_USD': 0.00041,
                'CDF_XAF': 0.24,
                'XAF_EUR': 0.0015,
                'XAF_USD': 0.0017,
                'XAF_CDF': 4.17
            };
            
            if (from === to) return amount;
            
            const rateKey = `${from}_${to}`;
            if (rates[rateKey]) {
                return amount * rates[rateKey];
            }
            
            return amount;
        }

        function renderRatingStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = {
                day: 'numeric',
                month: 'long',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            
            return date.toLocaleDateString(userSettings.language, options);
        }

        function generateTrackingNumber() {
            return 'TRK-' + Date.now().toString(36).toUpperCase() + Math.random().toString(36).substr(2, 5).toUpperCase();
        }

        function getStockClass(stock) {
            if (stock > 10) return 'stock-available';
            if (stock > 0) return 'stock-low';
            return 'stock-out';
        }

        function getStockText(stock) {
            const t = translations[userSettings.language];
            if (stock > 10) return `${stock} ${t.stockText || 'en stock'}`;
            if (stock > 0) return `Plus que ${stock} !`;
            return 'Rupture de stock';
        }

        // ===== GESTION DU STOCK =====
        function validateStock(productId, requestedQuantity) {
            const product = products.find(p => p.id === productId);
            const cartItem = cart.find(item => item.id === productId);
            const inCart = cartItem ? cartItem.quantity : 0;
            
            return product.stock >= (inCart + requestedQuantity);
        }

        function updateProductStock(productId, quantity) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.stock = Math.max(0, product.stock - quantity);
                saveToLocalStorage();
            }
        }

        // ===== RECHERCHE RAPIDE =====
        function openQuickSearch() {
            document.getElementById('quickSearch').classList.add('active');
            document.getElementById('searchOverlay').classList.add('active');
            document.getElementById('quickSearchInput').focus();
        }

        function closeQuickSearch() {
            document.getElementById('quickSearch').classList.remove('active');
            document.getElementById('searchOverlay').classList.remove('active');
        }

        function performQuickSearch() {
            const query = document.getElementById('quickSearchInput').value.toLowerCase();
            const resultsContainer = document.getElementById('quickSearchResults');
            const t = translations[userSettings.language];
            
            if (!query.trim()) {
                resultsContainer.innerHTML = `<p style="color: var(--gray); text-align: center;">${t.noProductsDesc || 'Aucun produit trouv√©'}</p>`;
                return;
            }
            
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(query) || 
                product.description.toLowerCase().includes(query) ||
                product.category.toLowerCase().includes(query)
            );
            
            if (filteredProducts.length === 0) {
                resultsContainer.innerHTML = `<p style="color: var(--gray); text-align: center;">${t.noProductsDesc || 'Aucun produit trouv√©'}</p>`;
                return;
            }
            
            let html = '';
            filteredProducts.slice(0, 10).forEach(product => {
                html += `
                    <div class="quick-search-item" onclick="addToCart(${product.id}); closeQuickSearch();">
                        <img src="${product.image}" alt="${product.name}">
                        <div class="quick-search-item-info">
                            <h4>${product.name}</h4>
                            <p style="font-size: 0.9rem; color: var(--gray); margin-bottom: 5px;">${product.description.substring(0, 60)}...</p>
                            <div class="price">${formatPrice(product.price)}</div>
                        </div>
                    </div>
                `;
            });
            
            resultsContainer.innerHTML = html;
        }

        // ===== GESTION DU PANIER =====
        function addToCart(productId, quantity = 1) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            if (!validateStock(productId, quantity)) {
                showNotification(`Stock insuffisant. Maximum disponible : ${product.stock}`, 'error');
                return;
            }
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: quantity
                });
            }
            
            updateCart();
            showNotification('Produit ajout√© au panier', 'success');
        }

        function updateCart() {
            const cartCount = document.querySelector('.cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            renderCartItems();
            saveToLocalStorage();
        }

        function renderCartItems() {
            const container = document.getElementById('cartItems');
            const totalElement = document.getElementById('cartTotal');
            const shippingBar = document.getElementById('freeShippingBar');
            const t = translations[userSettings.language];
            
            if (cart.length === 0) {
                container.innerHTML = `<div class="favorite-empty" style="padding: 40px 20px;">
                    <i class="fas fa-shopping-cart"></i>
                    <h3>${t.emptyCartTitle || 'Panier vide'}</h3>
                    <p>${t.emptyCartText || 'Votre panier est vide'}</p>
                    <button class="btn-primary" onclick="showPage('catalogue')">
                        <i class="fas fa-shopping-cart"></i> ${t.startShoppingText || 'Commencer vos achats'}
                    </button>
                </div>`;
                totalElement.textContent = formatPrice(0);
                shippingBar.style.display = 'none';
                return;
            }
            
            let html = '';
            let subtotal = 0;
            
            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (!product) return;
                
                const itemTotal = product.price * item.quantity;
                subtotal += itemTotal;
                
                const maxQuantity = Math.min(product.stock, 99);
                
                html += `
                    <div class="cart-item">
                        <div class="cart-item-img">
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div class="cart-item-info">
                            <h4 class="cart-item-title">${product.name}</h4>
                            <div class="cart-item-price">${formatPrice(product.price)}</div>
                            <div class="cart-item-actions">
                                <input type="number" class="cart-item-quantity-input" value="${item.quantity}" min="1" max="${maxQuantity}" data-id="${product.id}">
                                <button class="remove-item" onclick="removeFromCart(${product.id})">
                                    <i class="fas fa-trash"></i> ${t.removeItemText || 'Supprimer'}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            
            const total = subtotal + (subtotal >= 50 ? 0 : 4.90);
            totalElement.textContent = formatPrice(total);
            
            if (subtotal < 50) {
                const remaining = (50 - subtotal).toFixed(2);
                shippingBar.innerHTML = `<i class="fas fa-shipping-fast"></i> Plus que ${remaining}‚Ç¨ pour la livraison gratuite !`;
                shippingBar.style.display = 'block';
            } else {
                shippingBar.innerHTML = `<i class="fas fa-shipping-fast"></i> F√©licitations ! Livraison gratuite !`;
                shippingBar.style.display = 'block';
            }
            
            const quantityInputs = document.querySelectorAll('.cart-item-quantity-input');
            quantityInputs.forEach(input => {
                input.addEventListener('change', function() {
                    updateCartItemQuantity(parseInt(this.dataset.id), parseInt(this.value));
                });
            });
        }

        function updateCartItemQuantity(productId, quantity) {
            if (quantity < 1) {
                removeFromCart(productId);
                return;
            }
            
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const maxQuantity = Math.min(product.stock, 99);
            
            if (quantity > maxQuantity) {
                showNotification(`Quantit√© maximale : ${maxQuantity}`, 'error');
                quantity = maxQuantity;
            }
            
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity = quantity;
                updateCart();
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
            showNotification('Produit retir√© du panier', 'error');
        }

        // ===== GESTION DES FAVORIS =====
        function toggleFavorite(productId) {
            if (!currentUser) {
                showNotification('Connectez-vous pour ajouter aux favoris', 'error');
                showPage('login');
                return;
            }
            
            if (favorites.includes(productId)) {
                favorites = favorites.filter(id => id !== productId);
                showNotification('Retir√© des favoris', 'error');
            } else {
                favorites.push(productId);
                showNotification('Ajout√© aux favoris', 'success');
            }
            
            saveToLocalStorage();
            renderFavorites();
            updateProfileStats();
            
            const wishlistBtn = document.querySelector(`.wishlist-btn[onclick*="${productId}"]`);
            if (wishlistBtn) {
                const isFavorite = favorites.includes(productId);
                wishlistBtn.classList.toggle('active', isFavorite);
                const icon = wishlistBtn.querySelector('i');
                icon.className = isFavorite ? 'fas fa-heart' : 'far fa-heart';
            }
        }

        function renderFavorites() {
            const container = document.getElementById('favoritesGrid');
            const noFavorites = document.getElementById('noFavorites');
            const t = translations[userSettings.language];
            
            const favoriteProducts = products.filter(product => favorites.includes(product.id));
            
            if (favoriteProducts.length === 0) {
                container.innerHTML = '';
                noFavorites.style.display = 'block';
                return;
            }
            
            noFavorites.style.display = 'none';
            let html = '';
            
            favoriteProducts.forEach(product => {
                const isFavorite = favorites.includes(product.id);
                const stockClass = getStockClass(product.stock);
                const stockText = getStockText(product.stock);
                
                html += `
                    <div class="product-card">
                        ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                        <div class="product-img">
                            <img src="${product.image}" alt="${product.name}" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-rating">
                                ${renderRatingStars(product.rating)}
                                <span class="stock-info ${stockClass}">${stockText}</span>
                            </div>
                            <div class="product-price">${formatPrice(product.price)}</div>
                            <div class="product-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="number" class="quantity-input" value="1" min="1" max="${Math.min(product.stock, 99)}" data-product-id="${product.id}">
                                    <button class="quantity-btn plus" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                                    <i class="fas fa-shopping-cart"></i> ${t.addToCartText || 'Ajouter au panier'}
                                </button>
                                <button class="wishlist-btn active" onclick="toggleFavorite(${product.id})">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // ===== GESTION DES PRODUITS =====
        function renderProducts(productsArray, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            const t = translations[userSettings.language];
            
            if (productsArray.length === 0) {
                container.innerHTML = `<div class="favorite-empty">
                    <i class="fas fa-box-open"></i>
                    <h3>${t.noProductsText || 'Aucun produit'}</h3>
                    <p>${t.noProductsDesc || 'Aucun produit trouv√©'}</p>
                </div>`;
                return;
            }
            
            let html = '';
            productsArray.forEach(product => {
                const isFavorite = favorites.includes(product.id);
                const stockClass = getStockClass(product.stock);
                const stockText = getStockText(product.stock);
                
                html += `
                    <div class="product-card">
                        ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                        <div class="product-img">
                            <img src="${product.image}" alt="${product.name}" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-rating">
                                ${renderRatingStars(product.rating)}
                                <span class="stock-info ${stockClass}">${stockText}</span>
                            </div>
                            <div class="product-price">${formatPrice(product.price)}</div>
                            <div class="product-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="number" class="quantity-input" value="1" min="1" max="${Math.min(product.stock, 99)}" data-product-id="${product.id}">
                                    <button class="quantity-btn plus" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                                    <i class="fas fa-shopping-cart"></i> ${t.addToCartText || 'Ajouter au panier'}
                                </button>
                                <button class="wishlist-btn ${isFavorite ? 'active' : ''}" onclick="toggleFavorite(${product.id})">
                                    <i class="${isFavorite ? 'fas' : 'far'} fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function updateQuantity(button, change) {
            const quantityInput = button.parentElement.querySelector('.quantity-input');
            let value = parseInt(quantityInput.value) + change;
            const max = parseInt(quantityInput.max);
            const min = parseInt(quantityInput.min);
            
            if (value > max) value = max;
            if (value < min) value = min;
            
            quantityInput.value = value;
        }

        function filterProducts(category = 'all') {
            let filteredProducts = products;
            
            if (category !== 'all') {
                filteredProducts = products.filter(product => product.category === category);
            }
            
            const sortValue = document.getElementById('sortSelect').value;
            
            switch(sortValue) {
                case 'price-asc':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-desc':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
                case 'sales':
                    filteredProducts.sort((a, b) => b.sales - a.sales);
                    break;
                case 'searches':
                    filteredProducts.sort((a, b) => b.searches - a.searches);
                    break;
                case 'newest':
                    filteredProducts.sort((a, b) => b.id - a.id);
                    break;
                default:
                    filteredProducts.sort((a, b) => b.sales - a.sales);
            }
            
            renderProducts(filteredProducts, 'productsGrid');
        }

        // ===== GESTION DES COMMANDES =====
        function renderOrders(filter = 'all') {
            const container = document.getElementById('historyOrders');
            const noOrders = document.getElementById('noOrders');
            const t = translations[userSettings.language];
            
            if (userOrders.length === 0) {
                container.innerHTML = '';
                noOrders.style.display = 'block';
                return;
            }
            
            let filteredOrders = userOrders;
            if (filter !== 'all') {
                filteredOrders = userOrders.filter(order => order.status === filter);
            }
            
            if (filteredOrders.length === 0) {
                container.innerHTML = '';
                noOrders.style.display = 'block';
                return;
            }
            
            noOrders.style.display = 'none';
            let html = '';
            
            filteredOrders.forEach(order => {
                let statusText = '';
                let statusClass = '';
                switch(order.status) {
                    case 'delivered': 
                        statusText = t.orderDelivered || 'Livr√©e';
                        statusClass = 'delivered';
                        break;
                    case 'processing': 
                        statusText = t.orderProcessing || 'En cours';
                        statusClass = 'processing';
                        break;
                    case 'cancelled': 
                        statusText = t.orderCancelled || 'Annul√©e';
                        statusClass = 'cancelled';
                        break;
                    case 'shipped': 
                        statusText = t.orderShipped || 'Exp√©di√©e';
                        statusClass = 'processing';
                        break;
                }
                
                html += `
                    <div class="history-order">
                        <div class="order-header">
                            <div>
                                <div class="order-number">${order.number}</div>
                                <div class="order-date">${formatDate(order.date)}</div>
                            </div>
                            <div class="order-status ${statusClass}">${statusText}</div>
                        </div>
                        
                        <div class="order-items">
                            ${order.items.map(item => `
                                <div class="order-item">
                                    <div class="order-item-img">
                                        <img src="${item.image}" alt="${item.name}">
                                    </div>
                                    <div class="order-item-info">
                                        <div class="order-item-name">${item.name}</div>
                                        <div class="order-item-qty">Quantit√©: ${item.quantity}</div>
                                    </div>
                                    <div class="order-item-price">${formatPrice(item.price)}</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="order-footer">
                            <div>
                                <div class="order-total">${t.orderTotalText || 'Total commande'}: ${formatPrice(order.total)}</div>
                                <div style="color: var(--gray); font-size: 0.9rem;">${t.shippingText2 || 'Livraison'}: ${order.shipping}</div>
                            </div>
                            <div class="order-actions">
                                <button class="btn-secondary" onclick="showOrderTracking('${order.trackingNumber}')">
                                    <i class="fas fa-map-marker-alt"></i> ${t.trackOrderBtn || 'Suivre ma commande'}
                                </button>
                                <button class="btn-primary" onclick="reorder(${order.id})">
                                    <i class="fas fa-redo"></i> ${t.reorderBtn || 'Commander √† nouveau'}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function showOrderTracking(trackingNumber) {
            const order = userOrders.find(o => o.trackingNumber === trackingNumber);
            if (!order) return;
            
            const t = translations[userSettings.language];
            
            let trackingHtml = `
                <h3>${t.trackingNumber || 'Num√©ro de suivi'}: <strong>${trackingNumber}</strong></h3>
                <p style="margin-bottom: 20px;">${t.currentStatus || 'Statut actuel'}: <span class="order-status ${order.status}">${getStatusText(order.status)}</span></p>
                
                <div class="tracking-timeline">
                    <div class="timeline-line"></div>
            `;
            
            const statusHistory = order.statusHistory || [
                { status: 'processing', date: order.date },
                { status: 'confirmed', date: new Date(Date.parse(order.date) + 3600000).toISOString() },
                { status: 'shipped', date: new Date(Date.parse(order.date) + 86400000).toISOString() },
                { status: 'delivered', date: new Date(Date.parse(order.date) + 172800000).toISOString() }
            ];
            
            statusHistory.forEach((step, index) => {
                let icon = 'fa-clock';
                let stepText = '';
                
                switch(step.status) {
                    case 'processing': 
                        icon = 'fa-shopping-cart';
                        stepText = t.orderPlaced || 'Commande pass√©e';
                        break;
                    case 'confirmed': 
                        icon = 'fa-check-circle';
                        stepText = t.orderConfirmed || 'Commande confirm√©e';
                        break;
                    case 'shipped': 
                        icon = 'fa-shipping-fast';
                        stepText = t.orderShipped || 'Exp√©di√©e';
                        break;
                    case 'delivered': 
                        icon = 'fa-home';
                        stepText = t.orderDeliveredTracking || 'Livr√©e';
                        break;
                }
                
                const isActive = step.status === order.status;
                const isCompleted = statusHistory.findIndex(s => s.status === order.status) >= index;
                
                trackingHtml += `
                    <div class="timeline-step ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}">
                        <div class="timeline-icon">
                            <i class="fas ${icon}"></i>
                        </div>
                        <div class="timeline-content">
                            <h4>${stepText}</h4>
                            <p class="timeline-date">${formatDate(step.date)}</p>
                        </div>
                    </div>
                `;
            });
            
            trackingHtml += `
                </div>
                <p><strong>${t.estimatedDelivery || 'Livraison estim√©e'}:</strong> ${formatDate(new Date(Date.parse(order.date) + 259200000))}</p>
            `;
            
            document.getElementById('trackingContent').innerHTML = trackingHtml;
            openTrackingModal();
        }

        function getStatusText(status) {
            const t = translations[userSettings.language];
            switch(status) {
                case 'delivered': return t.orderDelivered || 'Livr√©e';
                case 'processing': return t.orderProcessing || 'En cours';
                case 'cancelled': return t.orderCancelled || 'Annul√©e';
                case 'shipped': return t.orderShipped || 'Exp√©di√©e';
                default: return status;
            }
        }

        function reorder(orderId) {
            const order = userOrders.find(o => o.id === orderId);
            if (order) {
                order.items.forEach(item => {
                    addToCart(item.id, item.quantity);
                });
                showPage('catalogue');
                showNotification('Commande ajout√©e au panier', 'success');
            }
        }

        function createOrder(paymentMethod) {
            if (cart.length === 0) {
                showNotification('Votre panier est vide', 'error');
                return false;
            }
            
            const order = {
                id: userOrders.length + 1,
                number: 'CMD-' + new Date().getFullYear() + '-' + String(userOrders.length + 1).padStart(3, '0'),
                date: new Date().toISOString(),
                status: 'processing',
                items: cart.map(item => ({
                    id: item.id,
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    image: item.image
                })),
                total: cart.reduce((sum, item) => {
                    const product = products.find(p => p.id === item.id);
                    return sum + (product.price * item.quantity);
                }, 0) + (cart.reduce((sum, item) => {
                    const product = products.find(p => p.id === item.id);
                    return sum + (product.price * item.quantity);
                }, 0) >= 50 ? 0 : 4.90),
                shipping: cart.reduce((sum, item) => {
                    const product = products.find(p => p.id === item.id);
                    return sum + (product.price * item.quantity);
                }, 0) >= 50 ? "Gratuite" : "Standard - 4.90‚Ç¨",
                paymentMethod: paymentMethod,
                trackingNumber: generateTrackingNumber(),
                statusHistory: [
                    { status: 'processing', date: new Date().toISOString() }
                ]
            };
            
            // Mettre √† jour le stock
            cart.forEach(item => {
                updateProductStock(item.id, item.quantity);
            });
            
            userOrders.unshift(order);
            saveToLocalStorage();
            
            // Envoyer notification par email
            const emailSubject = `Nouvelle commande #${order.number}`;
            const emailMessage = `
                Nouvelle commande re√ßue !
                
                Num√©ro: ${order.number}
                Client: ${currentUser?.name || 'Non sp√©cifi√©'}
                Email: ${currentUser?.email || 'Non sp√©cifi√©'}
                Total: ${formatPrice(order.total)}
                M√©thode de paiement: ${paymentMethod}
                
                Produits:
                ${order.items.map(item => `- ${item.name} (x${item.quantity})`).join('\n')}
                
                Date: ${new Date().toLocaleString()}
            `;
            
            sendEmailNotification(emailSubject, emailMessage);
            
            // Vider le panier
            cart = [];
            updateCart();
            
            return order;
        }

        function cancelOrder(orderId) {
            const orderIndex = userOrders.findIndex(o => o.id === orderId);
            if (orderIndex !== -1) {
                const order = userOrders[orderIndex];
                order.status = 'cancelled';
                
                // Restaurer le stock
                order.items.forEach(item => {
                    const product = products.find(p => p.id === item.id);
                    if (product) {
                        product.stock += item.quantity;
                    }
                });
                
                saveToLocalStorage();
                
                // Envoyer notification par email
                const emailSubject = `Commande annul√©e #${order.number}`;
                const emailMessage = `
                    Commande annul√©e !
                    
                    Num√©ro: ${order.number}
                    Client: ${currentUser?.name || 'Non sp√©cifi√©'}
                    Email: ${currentUser?.email || 'Non sp√©cifi√©'}
                    Total: ${formatPrice(order.total)}
                    
                    Raison: Annul√©e par le client
                    Date: ${new Date().toLocaleString()}
                `;
                
                sendEmailNotification(emailSubject, emailMessage);
                
                showNotification('Commande annul√©e avec succ√®s', 'success');
                renderOrders('all');
                
                return true;
            }
            return false;
        }

        // ===== GESTION DU PROFIL =====
        function updateProfileStats() {
            document.getElementById('ordersCount').textContent = userOrders.length;
            document.getElementById('favoritesCount').textContent = favorites.length;
            document.getElementById('memberSince').textContent = userSettings.memberSince;
            
            if (currentUser) {
                document.getElementById('userDisplayName').textContent = currentUser.name || 'Utilisateur';
                document.getElementById('userDisplayEmail').textContent = currentUser.email || '';
            }
        }

        function updateProfileForm() {
            document.getElementById('profileName').value = userSettings.name || '';
            document.getElementById('profileEmail').value = userSettings.email || '';
            document.getElementById('profilePhone').value = userSettings.phone || '';
            document.getElementById('profileAddress').value = userSettings.address || '';
            document.getElementById('profileBio').value = userSettings.bio || '';
            
            if (userSettings.profileImage) {
                document.getElementById('profileImage').src = userSettings.profileImage;
            }
        }

        function saveProfile() {
            userSettings.name = document.getElementById('profileName').value;
            userSettings.email = document.getElementById('profileEmail').value;
            userSettings.phone = document.getElementById('profilePhone').value;
            userSettings.address = document.getElementById('profileAddress').value;
            userSettings.bio = document.getElementById('profileBio').value;
            
            if (currentUser) {
                currentUser.name = userSettings.name;
                currentUser.email = userSettings.email;
            }
            
            saveToLocalStorage();
            updateProfileStats();
            updateUserMenu();
            showNotification('Profil mis √† jour avec succ√®s', 'success');
        }

        // ===== GESTION DES PAGES =====
        function showPage(pageId) {
            // Masquer toutes les pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Afficher la page demand√©e
            const page = document.getElementById(`${pageId}-page`);
            if (page) {
                page.classList.add('active');
                
                // Charger le contenu sp√©cifique √† la page
                switch(pageId) {
                    case 'home':
                        renderProducts(products.slice(0, 8), 'featuredProducts');
                        break;
                    case 'catalogue':
                        filterProducts('all');
                        break;
                    case 'favorites':
                        renderFavorites();
                        break;
                    case 'history':
                        renderOrders('all');
                        break;
                    case 'settings':
                        updateProfileForm();
                        updateProfileStats();
                        break;
                }
                
                // Fermer le menu mobile si ouvert
                document.getElementById('mainNav').classList.remove('active');
            }
            
            // Fermer le panier si ouvert
            closeCart();
            
            // Fermer le menu utilisateur si ouvert
            document.getElementById('userMenu').classList.remove('active');
            
            // Fermer la recherche rapide si ouverte
            closeQuickSearch();
            
            // Envoyer notification de visite (pour la page d'accueil)
            if (pageId === 'home') {
                const visitData = {
                    page: 'home',
                    timestamp: new Date().toISOString(),
                    user: currentUser ? currentUser.email : 'guest'
                };
                
                // Sauvegarder la visite
                const visits = JSON.parse(localStorage.getItem('siteVisits') || '[]');
                visits.push(visitData);
                localStorage.setItem('siteVisits', JSON.stringify(visits));
                
                // Envoyer notification apr√®s 10 visites
                if (visits.length % 10 === 0) {
                    sendEmailNotification(
                        `üìà Site Visite - ${visits.length} visites`,
                        `Le site a atteint ${visits.length} visites. Derni√®re visite √† ${new Date().toLocaleString()}`
                    );
                }
            }
        }

        // ===== GESTION DU MENU UTILISATEUR =====
        function toggleUserMenu() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('active');
            
            // Fermer le menu s'il est ouvert et qu'on clique ailleurs
            if (userMenu.classList.contains('active')) {
                setTimeout(() => {
                    document.addEventListener('click', closeUserMenuOnClick);
                }, 10);
            } else {
                document.removeEventListener('click', closeUserMenuOnClick);
            }
        }

        function closeUserMenuOnClick(event) {
            const userMenu = document.getElementById('userMenu');
            const userMenuBtn = document.getElementById('userMenuBtn');
            
            if (!userMenu.contains(event.target) && !userMenuBtn.contains(event.target)) {
                userMenu.classList.remove('active');
                document.removeEventListener('click', closeUserMenuOnClick);
            }
        }

        function updateUserMenu() {
            const userMenu = document.getElementById('userMenu');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userEmail = document.getElementById('userEmail');
            const userMenuLinks = document.getElementById('userMenuLinks');
            const t = translations[userSettings.language];
            
            if (currentUser) {
                // Utilisateur connect√©
                userName.textContent = currentUser.name || 'Utilisateur';
                userEmail.textContent = currentUser.email || '';
                
                userAvatar.innerHTML = userSettings.profileImage ? 
                    `<img src="${userSettings.profileImage}" alt="Avatar">` :
                    `<i class="fas fa-user"></i>`;
                
                userMenuLinks.innerHTML = `
                    <a onclick="showPage('settings')"><i class="fas fa-user"></i> ${t.menuProfile || 'Mon Profil'}</a>
                    <a onclick="showPage('history')"><i class="fas fa-shopping-bag"></i> ${t.menuOrders || 'Mes Commandes'}</a>
                    <a onclick="showPage('favorites')"><i class="fas fa-heart"></i> ${t.menuFavorites || 'Mes Favoris'}</a>
                    <a onclick="showPage('settings')"><i class="fas fa-cog"></i> ${t.menuSettings || 'Param√®tres'}</a>
                    <a onclick="logout()"><i class="fas fa-sign-out-alt"></i> ${t.menuLogout || 'D√©connexion'}</a>
                `;
            } else {
                // Utilisateur non connect√©
                userName.textContent = t.navLogin || 'Connexion';
                userEmail.textContent = t.loginSubtitle || 'Acc√©dez √† votre espace personnel';
                userAvatar.innerHTML = `<i class="fas fa-user"></i>`;
                
                userMenuLinks.innerHTML = `
                    <a onclick="showPage('login')"><i class="fas fa-sign-in-alt"></i> ${t.navLogin || 'Connexion'}</a>
                    <a onclick="showPage('register')"><i class="fas fa-user-plus"></i> ${t.navRegister || 'Inscription'}</a>
                `;
            }
        }

        function logout() {
            // Envoyer notification de d√©connexion
            if (currentUser) {
                sendEmailNotification(
                    `üëã D√©connexion utilisateur`,
                    `L'utilisateur ${currentUser.email} s'est d√©connect√© √† ${new Date().toLocaleString()}`
                );
            }
            
            currentUser = null;
            userSessionToken = null;
            updateUserMenu();
            showPage('home');
            showNotification('D√©connexion r√©ussie', 'success');
        }

        // ===== GESTION DES PARAM√àTRES =====
        function switchSettingsTab(tabId) {
            // D√©sactiver tous les onglets
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.settings-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Activer l'onglet s√©lectionn√©
            const tab = document.querySelector(`.settings-tab[data-tab="${tabId}"]`);
            const content = document.getElementById(`${tabId}Content`);
            
            if (tab) tab.classList.add('active');
            if (content) content.classList.add('active');
        }

        function changeLanguage(lang) {
            userSettings.language = lang;
            applyTranslations();
            saveToLocalStorage();
            showNotification('Langue chang√©e', 'success');
            
            // Re-render les pages avec la nouvelle langue
            renderProducts(products.slice(0, 8), 'featuredProducts');
            renderProducts(products, 'productsGrid');
            renderFavorites();
            renderOrders('all');
        }

        function changeCurrency(currency) {
            userSettings.currency = currency;
            applyTranslations();
            saveToLocalStorage();
            updateCart();
            renderProducts(products.slice(0, 8), 'featuredProducts');
            renderProducts(products, 'productsGrid');
            renderFavorites();
            showNotification('Devise chang√©e', 'success');
        }

        function changeTheme(theme) {
            userSettings.theme = theme;
            
            if (theme === 'auto') {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
            } else if (theme === 'dark') {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
            
            saveToLocalStorage();
            showNotification('Th√®me chang√©', 'success');
        }

        // ===== GESTION DES TRADUCTIONS =====
        function applyTranslations() {
            const t = translations[userSettings.language];
            
            // Mettre √† jour tous les √©l√©ments avec des IDs
            for (const key in t) {
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = t[key];
                    } else {
                        element.textContent = t[key];
                    }
                }
            }
            
            // Mettre √† jour le menu utilisateur
            updateUserMenu();
        }

        // ===== GESTION DE L'AUTHENTIFICATION S√âCURIS√âE =====
        function switchAuthTab(tab, fromRegisterPage = false) {
            if (fromRegisterPage) {
                showPage('login');
                return;
            }
            
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            
            if (tab === 'login') {
                loginForm.classList.add('active');
                registerForm.classList.remove('active');
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
            } else {
                loginForm.classList.remove('active');
                registerForm.classList.add('active');
                loginTab.classList.remove('active');
                registerTab.classList.add('active');
            }
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Validation am√©lior√©e
            if (!email || !password) {
                showNotification('Veuillez remplir tous les champs', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Veuillez entrer une adresse email valide', 'error');
                return;
            }
            
            // V√©rification des identifiants dans la base de donn√©es
            const user = registeredUsers.find(u => u.email === email && u.password === password);
            
            if (!user) {
                // V√©rifier si l'email existe mais le mot de passe est incorrect
                const emailExists = registeredUsers.some(u => u.email === email);
                if (emailExists) {
                    showNotification('Mot de passe incorrect', 'error');
                } else {
                    showNotification('Aucun compte trouv√© avec cet email', 'error');
                }
                return;
            }
            
            // Connexion r√©ussie
            currentUser = {
                email: user.email,
                name: user.name,
                joinDate: new Date()
            };
            
            userSessionToken = generateSessionToken();
            
            // Mettre √† jour les param√®tres utilisateur
            userSettings.name = currentUser.name;
            userSettings.email = currentUser.email;
            
            // Envoyer notification de connexion
            sendEmailNotification(
                `üîê Connexion utilisateur`,
                `L'utilisateur ${currentUser.email} s'est connect√© √† ${new Date().toLocaleString()}\nToken de session: ${userSessionToken}`
            );
            
            updateUserMenu();
            updateProfileForm();
            updateProfileStats();
            showPage('home');
            showNotification('Connexion r√©ussie ! Bienvenue ' + currentUser.name, 'success');
        }

        function handleRegister(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            // Validation am√©lior√©e
            if (!name || !email || !password || !confirmPassword) {
                showNotification('Veuillez remplir tous les champs', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Veuillez entrer une adresse email valide', 'error');
                return;
            }
            
            // V√©rifier si l'email existe d√©j√†
            const emailExists = registeredUsers.some(u => u.email === email);
            if (emailExists) {
                showNotification('Cet email est d√©j√† utilis√©', 'error');
                return;
            }
            
            // Validation du mot de passe
            if (!validatePassword(password)) {
                showNotification('Le mot de passe doit contenir au moins 8 caract√®res, une majuscule, une minuscule et un chiffre', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('Les mots de passe ne correspondent pas', 'error');
                return;
            }
            
            // Cr√©ation du compte
            const newUser = {
                email: email,
                password: password,
                name: name
            };
            
            registeredUsers.push(newUser);
            
            // Simuler la sauvegarde (dans un vrai projet, sauvegarder sur un serveur)
            localStorage.setItem('maisonMlisho_users', JSON.stringify(registeredUsers));
            
            // Connexion automatique
            currentUser = {
                email: email,
                name: name,
                joinDate: new Date()
            };
            
            userSessionToken = generateSessionToken();
            
            userSettings.name = name;
            userSettings.email = email;
            userSettings.memberSince = new Date().getFullYear();
            
            // Envoyer notification d'inscription
            sendEmailNotification(
                `üéâ Nouvel utilisateur inscrit`,
                `Nouvel utilisateur: ${name} (${email})\nDate: ${new Date().toLocaleString()}`
            );
            
            updateUserMenu();
            updateProfileForm();
            updateProfileStats();
            showPage('home');
            showNotification('Inscription r√©ussie ! Bienvenue sur MAISONM\'LISHO', 'success');
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // ===== GESTION DU PANIER LAT√âRAL =====
        function openCart() {
            if (!currentUser) {
                showNotification('Connectez-vous pour acc√©der au panier', 'error');
                showPage('login');
                return;
            }
            
            document.getElementById('cartSidebar').classList.add('active');
            document.getElementById('cartOverlay').classList.add('active');
            renderCartItems();
        }

        function closeCart() {
            document.getElementById('cartSidebar').classList.remove('active');
            document.getElementById('cartOverlay').classList.remove('active');
        }

        // ===== GESTION DU PAIEMENT AM√âLIOR√â =====
        function showPaymentModal() {
            if (cart.length === 0) {
                showNotification('Votre panier est vide', 'error');
                return;
            }
            
            if (!currentUser) {
                showNotification('Connectez-vous pour proc√©der au paiement', 'error');
                showPage('login');
                return;
            }
            
            const t = translations[userSettings.language];
            const methodsContainer = document.getElementById('paymentMethods');
            const formContainer = document.getElementById('paymentFormContainer');
            
            // Rendre les m√©thodes de paiement avec images
            let methodsHtml = '';
            paymentMethods.forEach(method => {
                methodsHtml += `
                    <div class="payment-method" data-method="${method.id}" onclick="selectPaymentMethod('${method.id}')">
                        <img src="${method.image}" class="payment-icon-img" alt="${method.name}" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2965/2965300.png'">
                        <div class="payment-name">${method.name}</div>
                        ${method.phoneNumber ? `<small style="color: var(--gray); font-size: 0.8rem;">${method.phoneNumber}</small>` : ''}
                    </div>
                `;
            });
            
            methodsContainer.innerHTML = methodsHtml;
            formContainer.innerHTML = '';
            
            document.getElementById('paymentModal').classList.add('active');
            document.getElementById('paymentOverlay').classList.add('active');
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
            document.getElementById('paymentOverlay').classList.remove('active');
            currentPaymentMethod = null;
        }

        function selectPaymentMethod(methodId) {
            const t = translations[userSettings.language];
            const formContainer = document.getElementById('paymentFormContainer');
            currentPaymentMethod = methodId;
            
            // D√©sactiver toutes les m√©thodes
            document.querySelectorAll('.payment-method').forEach(m => {
                m.classList.remove('active');
            });
            
            // Activer la m√©thode s√©lectionn√©e
            document.querySelector(`.payment-method[data-method="${methodId}"]`).classList.add('active');
            
            let formHtml = '';
            
            switch(methodId) {
                case 'card':
                    formHtml = `
                        <form id="cardPaymentForm" onsubmit="processCardPayment(event)">
                            <div class="form-group">
                                <label for="cardNumber">${t.cardNumberLabel}</label>
                                <input type="text" id="cardNumber" class="form-control" placeholder="1234 5678 9012 3456" required>
                            </div>
                            <div class="form-group">
                                <label for="cardExpiry">${t.cardExpiryLabel}</label>
                                <input type="text" id="cardExpiry" class="form-control" placeholder="MM/YY" required>
                            </div>
                            <div class="form-group">
                                <label for="cardCVV">${t.cardCVVLabel}</label>
                                <input type="text" id="cardCVV" class="form-control" placeholder="123" required>
                            </div>
                            <div class="form-group">
                                <label for="cardName">${t.cardNameLabel}</label>
                                <input type="text" id="cardName" class="form-control" placeholder="${t.cardNameLabel}" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fas fa-lock"></i> ${t.payWithCardBtn}
                            </button>
                        </form>
                    `;
                    break;
                    
                case 'paypal':
                    formHtml = `
                        <form id="paypalPaymentForm" onsubmit="processPaypalPayment(event)">
                            <div class="form-group">
                                <label for="paypalEmail">${t.emailLabelPayment}</label>
                                <input type="email" id="paypalEmail" class="form-control" placeholder="votre@email.com" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fab fa-paypal"></i> ${t.payWithPaypalBtn}
                            </button>
                        </form>
                    `;
                    break;
                    
                case 'bank':
                    formHtml = `
                        <form id="bankPaymentForm" onsubmit="processBankPayment(event)">
                            <div class="form-group">
                                <label for="bankAccount">${t.bankAccountLabel}</label>
                                <input type="text" id="bankAccount" class="form-control" placeholder="FR76 XXXX XXXX XXXX XXXX XXX" required>
                            </div>
                            <div class="form-group">
                                <label for="bankName">${t.bankNameLabel}</label>
                                <input type="text" id="bankName" class="form-control" placeholder="${t.bankNameLabel}" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fas fa-university"></i> ${t.payWithBankBtn}
                            </button>
                        </form>
                    `;
                    break;
                    
                case 'airtel':
                    formHtml = `
                        <form id="mobilePaymentForm" onsubmit="sendMobileConfirmationCode(event, 'airtel')">
                            <div class="form-group">
                                <label for="mobileNumber">${t.mobileNumberLabel}</label>
                                <input type="tel" id="mobileNumber" class="form-control" placeholder="+243 XX XXX XXXX" required>
                            </div>
                            <p style="color: var(--primary); font-size: 0.9rem; margin-bottom: 15px;">
                                <i class="fas fa-info-circle"></i> ${t.airtelMoneyNote}
                            </p>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fas fa-mobile-alt"></i> ${t.sendCodeBtn}
                            </button>
                        </form>
                    `;
                    break;
                    
                case 'vodacom':
                    formHtml = `
                        <form id="mobilePaymentForm" onsubmit="sendMobileConfirmationCode(event, 'vodacom')">
                            <div class="form-group">
                                <label for="mobileNumber">${t.mobileNumberLabel}</label>
                                <input type="tel" id="mobileNumber" class="form-control" placeholder="+243 XX XXX XXXX" required>
                            </div>
                            <p style="color: var(--primary); font-size: 0.9rem; margin-bottom: 15px;">
                                <i class="fas fa-info-circle"></i> ${t.mpesaNote}
                            </p>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fas fa-mobile"></i> ${t.sendCodeBtn}
                            </button>
                        </form>
                    `;
                    break;
                    
                case 'orange':
                    formHtml = `
                        <form id="mobilePaymentForm" onsubmit="sendMobileConfirmationCode(event, 'orange')">
                            <div class="form-group">
                                <label for="mobileNumber">${t.mobileNumberLabel}</label>
                                <input type="tel" id="mobileNumber" class="form-control" placeholder="+243 XX XXX XXXX" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">
                                <i class="fas fa-money-bill-wave"></i> ${t.sendCodeBtn}
                            </button>
                        </form>
                    `;
                    break;
            }
            
            formContainer.innerHTML = formHtml;
        }

        function sendMobileConfirmationCode(event, operator) {
            event.preventDefault();
            const phoneNumber = document.getElementById('mobileNumber').value;
            
            if (!phoneNumber) {
                showNotification('Veuillez entrer un num√©ro de mobile', 'error');
                return;
            }
            
            // G√©n√©rer un code de confirmation
            mobileConfirmationCode = Math.floor(100000 + Math.random() * 900000);
            
            const t = translations[userSettings.language];
            
            // Envoyer notification SMS (simul√©e)
            const smsMessage = `Votre code de confirmation MAISONM'LISHO: ${mobileConfirmationCode}. Ne partagez pas ce code.`;
            sendSMSNotification(phoneNumber, smsMessage);
            
            // Afficher le modal de confirmation
            document.getElementById('confirmationContent').innerHTML = `
                <div class="confirmation-code">
                    <p>${t.confirmationSent} <strong>${phoneNumber}</strong></p>
                    <div class="code">${mobileConfirmationCode}</div>
                    <p style="color: var(--success); font-weight: 600;">
                        <i class="fas fa-sms"></i> Code envoy√© par SMS !
                    </p>
                    <p style="color: var(--gray); font-size: 0.9rem;">
                        Entrez le code re√ßu sur votre t√©l√©phone
                    </p>
                </div>
                <form id="confirmationForm" onsubmit="confirmMobilePayment(event, '${operator}')">
                    <div class="form-group">
                        <label for="confirmationCode">${t.confirmationCodeLabel}</label>
                        <input type="text" id="confirmationCode" class="form-control" placeholder="XXXXXX" required>
                    </div>
                    <button type="submit" class="btn-primary" style="width: 100%;">
                        <i class="fas fa-check"></i> ${t.confirmPaymentBtn}
                    </button>
                </form>
                <p style="color: var(--gray); font-size: 0.9rem; margin-top: 15px; text-align: center;">
                    <i class="fas fa-shield-alt"></i> Transaction s√©curis√©e
                </p>
            `;
            
            closePaymentModal();
            openConfirmationModal();
            showNotification(`Code de confirmation envoy√© au ${phoneNumber}`, 'success');
        }

        function confirmMobilePayment(event, operator) {
            event.preventDefault();
            const enteredCode = document.getElementById('confirmationCode').value;
            
            if (parseInt(enteredCode) === mobileConfirmationCode) {
                const order = createOrder(operator === 'airtel' ? 'Airtel Money' : operator === 'vodacom' ? 'Vodacom M-Pesa' : 'Orange Money');
                if (order) {
                    closeConfirmationModal();
                    
                    // Envoyer notification SMS de confirmation
                    const phoneNumber = document.getElementById('mobileNumber').value;
                    const confirmMessage = `Paiement confirm√©! Commande #${order.number} de ${formatPrice(order.total)}. Merci!`;
                    sendSMSNotification(phoneNumber, confirmMessage);
                    
                    showNotification('Paiement mobile confirm√© ! Commande pass√©e avec succ√®s.', 'success');
                    showPage('history');
                }
            } else {
                showNotification('Code de confirmation incorrect', 'error');
            }
        }

        function processCardPayment(event) {
            event.preventDefault();
            const order = createOrder('Carte Bancaire');
            if (order) {
                closePaymentModal();
                showNotification('Paiement par carte r√©ussi ! Commande pass√©e avec succ√®s.', 'success');
                showPage('history');
            }
        }

        function processPaypalPayment(event) {
            event.preventDefault();
            const order = createOrder('PayPal');
            if (order) {
                closePaymentModal();
                showNotification('Paiement PayPal r√©ussi ! Commande pass√©e avec succ√®s.', 'success');
                showPage('history');
            }
        }

        function processBankPayment(event) {
            event.preventDefault();
            const order = createOrder('Virement Bancaire');
            if (order) {
                closePaymentModal();
                showNotification('Virement bancaire initi√©. Votre commande sera trait√©e apr√®s r√©ception du paiement.', 'success');
                showPage('history');
            }
        }

        function openConfirmationModal() {
            document.getElementById('confirmationModal').classList.add('active');
            document.getElementById('confirmationOverlay').classList.add('active');
        }

        function closeConfirmationModal() {
            document.getElementById('confirmationModal').classList.remove('active');
            document.getElementById('confirmationOverlay').classList.remove('active');
            mobileConfirmationCode = null;
        }

        function openTrackingModal() {
            document.getElementById('trackingModal').classList.add('active');
            document.getElementById('trackingOverlay').classList.add('active');
        }

        function closeTrackingModal() {
            document.getElementById('trackingModal').classList.remove('active');
            document.getElementById('trackingOverlay').classList.remove('active');
        }

        // ===== GESTION DU T√âL√âCHARGEMENT DE PHOTO DE PROFIL =====
        function handleProfileImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.match('image.*')) {
                showNotification('Veuillez s√©lectionner une image valide', 'error');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) { // 5MB
                showNotification('L\'image est trop volumineuse (max 5MB)', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                userSettings.profileImage = e.target.result;
                document.getElementById('profileImage').src = e.target.result;
                
                // Mettre √† jour l'avatar dans le menu utilisateur
                const userAvatar = document.getElementById('userAvatar');
                userAvatar.innerHTML = `<img src="${e.target.result}" alt="Avatar">`;
                
                saveToLocalStorage();
                showNotification('Photo de profil mise √† jour', 'success');
            };
            reader.readAsDataURL(file);
        }

        // ===== GESTION DU STOCKAGE LOCAL =====
        function saveToLocalStorage() {
            const data = {
                cart: cart,
                favorites: favorites,
                userOrders: userOrders,
                userSettings: userSettings,
                currentUser: currentUser,
                products: products,
                sessionToken: userSessionToken
            };
            localStorage.setItem('maisonMlisho', JSON.stringify(data));
            
            // Sauvegarder aussi les utilisateurs
            localStorage.setItem('maisonMlisho_users', JSON.stringify(registeredUsers));
        }

        function loadFromLocalStorage() {
            // Charger les utilisateurs
            const savedUsers = JSON.parse(localStorage.getItem('maisonMlisho_users'));
            if (savedUsers) {
                registeredUsers.push(...savedUsers);
            }
            
            const data = JSON.parse(localStorage.getItem('maisonMlisho'));
            
            if (data) {
                cart = data.cart || [];
                favorites = data.favorites || [];
                userOrders = data.userOrders || [];
                userSettings = data.userSettings || userSettings;
                currentUser = data.currentUser || null;
                userSessionToken = data.sessionToken || null;
                
                // Mettre √† jour les produits si n√©cessaire
                if (data.products) {
                    // Fusionner les stocks
                    data.products.forEach(savedProduct => {
                        const currentProduct = products.find(p => p.id === savedProduct.id);
                        if (currentProduct) {
                            currentProduct.stock = savedProduct.stock || currentProduct.stock;
                            currentProduct.sales = savedProduct.sales || currentProduct.sales;
                            currentProduct.searches = savedProduct.searches || currentProduct.searches;
                        }
                    });
                }
                
                // Appliquer les param√®tres
                if (userSettings.theme) {
                    changeTheme(userSettings.theme);
                }
                
                if (userSettings.language) {
                    applyTranslations();
                }
                
                if (userSettings.profileImage) {
                    document.getElementById('profileImage').src = userSettings.profileImage;
                }
                
                updateCart();
                updateUserMenu();
                updateProfileStats();
            }
        }

        // ===== D√âTECTION ET NOTIFICATION DES ANNULATIONS =====
        function setupCancelOrderButtons() {
            // Cette fonction sera appel√©e apr√®s le rendu des commandes
            document.querySelectorAll('.cancel-order-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const orderId = parseInt(this.dataset.orderId);
                    if (confirm('√ätes-vous s√ªr de vouloir annuler cette commande ?')) {
                        if (cancelOrder(orderId)) {
                            // Notification sera envoy√©e automatiquement par cancelOrder()
                        }
                    }
                });
            });
        }

        // ===== INITIALISATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Charger depuis localStorage
            loadFromLocalStorage();
            
            // Appliquer les traductions
            applyTranslations();
            
            // Initialiser les √©couteurs d'√©v√©nements
            document.getElementById('themeToggle').addEventListener('click', function() {
                const isDark = document.body.classList.contains('dark-mode');
                userSettings.theme = isDark ? 'light' : 'dark';
                changeTheme(userSettings.theme);
            });
            
            document.getElementById('cartIcon').addEventListener('click', openCart);
            document.getElementById('closeCart').addEventListener('click', closeCart);
            document.getElementById('cartOverlay').addEventListener('click', closeCart);
            document.getElementById('userMenuBtn').addEventListener('click', toggleUserMenu);
            
            // Gestion du menu mobile
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                document.getElementById('mainNav').classList.toggle('active');
            });
            
            // Gestion de la recherche
            document.getElementById('searchBtn').addEventListener('click', function() {
                const query = document.getElementById('searchInput').value;
                if (query.trim()) {
                    showPage('catalogue');
                    // Incr√©menter les recherches
                    products.forEach(product => {
                        if (product.name.toLowerCase().includes(query.toLowerCase()) || 
                            product.description.toLowerCase().includes(query.toLowerCase())) {
                            product.searches = (product.searches || 0) + 1;
                        }
                    });
                    saveToLocalStorage();
                    showNotification(`Recherche: "${query}"`, 'success');
                }
            });
            
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('searchBtn').click();
                }
            });
            
            // Gestion de la recherche rapide
            document.getElementById('quickSearchBtn').addEventListener('click', performQuickSearch);
            document.getElementById('quickSearchInput').addEventListener('keyup', performQuickSearch);
            document.getElementById('quickSearchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performQuickSearch();
                }
            });
            document.getElementById('searchOverlay').addEventListener('click', closeQuickSearch);
            
            // Gestion des filtres de cat√©gorie
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    filterProducts(this.dataset.category);
                });
            });
            
            // Gestion du tri
            document.getElementById('sortSelect').addEventListener('change', function() {
                const activeCategory = document.querySelector('.category-btn.active').dataset.category;
                filterProducts(activeCategory);
            });
            
            // Gestion des filtres d'historique
            document.querySelectorAll('.history-filter').forEach(filter => {
                filter.addEventListener('click', function() {
                    document.querySelectorAll('.history-filter').forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    renderOrders(this.dataset.filter);
                });
            });
            
            // Gestion des onglets des param√®tres
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchSettingsTab(this.dataset.tab);
                });
            });
            
            // Gestion des options de langue
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.language-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    changeLanguage(this.dataset.lang);
                });
            });
            
            // Gestion des options de devise
            document.querySelectorAll('.currency-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.currency-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    changeCurrency(this.dataset.currency);
                });
            });
            
            // Gestion des options de th√®me
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.theme-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    changeTheme(this.dataset.theme);
                });
            });
            
            // Gestion des formulaires
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('profileForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProfile();
            });
            document.getElementById('passwordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                showNotification('Mot de passe chang√© avec succ√®s', 'success');
            });
            
            // Gestion du t√©l√©chargement de photo de profil
            document.getElementById('profileUpload').addEventListener('change', handleProfileImageUpload);
            
            // Gestion des overlays
            document.getElementById('paymentOverlay').addEventListener('click', closePaymentModal);
            document.getElementById('confirmationOverlay').addEventListener('click', closeConfirmationModal);
            document.getElementById('trackingOverlay').addEventListener('click', closeTrackingModal);
            
            // Initialiser les pages
            renderProducts(products.slice(0, 8), 'featuredProducts');
            filterProducts('all');
            
            // D√©tection automatique du th√®me
            if (userSettings.theme === 'auto') {
                const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
                darkModeMediaQuery.addEventListener('change', (e) => {
                    if (userSettings.theme === 'auto') {
                        if (e.matches) {
                            document.body.classList.add('dark-mode');
                        } else {
                            document.body.classList.remove('dark-mode');
                        }
                    }
                });
            }
            
            // Envoyer notification de visite initiale
            setTimeout(() => {
                sendEmailNotification(
                    'üåê Nouvelle visite sur le site',
                    `Nouvelle visite d√©tect√©e √† ${new Date().toLocaleString()}\nUser Agent: ${navigator.userAgent}`
                );
            }, 5000);
        });
    </script>
</body>
</html>
